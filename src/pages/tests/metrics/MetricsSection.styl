@import 'mixins/gradient';
@import 'mixins/colors';
@import 'mixins/pos';
@import 'mixins/border';

.MetricsSection
  abspos 0px 0px 0px 0px
  color text-color
  background-color bg-color
  overflow auto

  > #Metrics
    color #FFF
    position relative
    padding 1px 5px 1px 7px

    > #rows > #headerrow
      > .headercol
        border-left 1px solid #4A4A4A
        color #EEE
        float right
        font-size 11px
        height 100%
        line-height 16px
        text-align center
        width 100px

    .NodeRow
      &.release
        box-shadow 0px 0px 5px shadow-color
        margin-bottom 5px

      &.iteration
        border-bottom 1px solid bg-color-dark

        &:last-child
          border-bottom 0

        > #children > .nochildren
          padding 10px 10px 10px 20px
          background-color #2D2D2D + #060606
          font-weight bold

      &.story
        background-color #2D2D2D + #060606
        &:nth-child(2n)
          background-color #2D2D2D

 
    .MetricsNode

      > .counts
        .CountBar
          > #count 
            vertical-align top
          > #barContainer
            height 20px
            margin-top 8px

      &.release
        color #FFF
        background-color #4D4D4D
        height 28px
        line-height 28px
        margin-top 5px
        border-radius 3px
        z-index 1

        &.expanded
          gradient #666 #777 50% 100%
          border-radius 3px 3px 0 0
          box-shadow 0px 1px 2px shadow-color
          text-shadow 1px 1px 0px #444

          > .nameContainer
            color text-color-dark
            > .name
              font-weight bold
              color text-color

        > #expando
          border-color transparent transparent transparent #888
          top 10px
          left 9px

          &.expanded
            top 12px
            border-color #FFF transparent transparent transparent 
            left 7px

        > .nameContainer
          padding-left 20px
          color text-disabled-color
          font-size 14px
          font-style italic

          > .name
            color text-color-dark
            padding-left 5px

        > .counts
          width 103px

          > .ats, > .chumpTasks
            border-left 1px solid #333
            color #FFF
            font-size 11px
            text-align center
            vertical-align baseline
            text-shadow 1px 1px 2px #444
            width 102px
              
            > .count
              font-weight bold
              font-size 14px
              padding-right 5px
              vertical-align bottom
      

      &.iteration
        background-color #404040
        padding 2px 0 2px 0

        &.expanded
          text-shadow 1px 1px 0px #444

          .nameContainer
            color #BBB

            > .name
              font-weight bold
              color text-color

        > #expando
          border-color transparent transparent transparent #888
          top 8px
          left 15px

          &.expanded
            border-color #DDD transparent transparent transparent 
            top 10px
            left 13px

        > .nameContainer
          color #888
          font-style italic
          letter-spacing 1px
          padding-left 25px
          top 3px

          > .name
            color #BBB
            font-style normal
            letter-spacing 0

      &.story
        border-bottom 1px solid #333
        padding-left 20px

        > #expando
          display none

        > .nameContainer
          font-weight normal
          
          > a
            abspos 0px false 0px 20px
            text-decoration none
            font-weight bold
            color #FFF

            &:hover
              text-decoration underline

          > .name
            abspos 0px 15px false 60px
            display inline-block
            color #CCC
            font-weight normal
            overflow hidden
            text-overflow ellipsis
            white-space nowrap
