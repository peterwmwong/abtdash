(function(){function a(){if(a.is(arguments[0],G)){var b=arguments[0],d=bV[m](a,b.splice(0,3+a.is(b[0],E))),e=d.set();for(var g=0,h=b[w];g<h;g++){var i=b[g]||{};c[f](i.type)&&e[L](d[i.type]().attr(i))}return e}return bV[m](a,arguments)}function bh(){var a=[],b=0;for(;b<32;b++)a[b]=(~~(y.random()*16))[H](16);return a[12]=4,a[16]=(a[16]&3|8)[H](16),"r-"+a[v]("")}function bm(a,b,c){function d(){var g=Array[e].slice.call(arguments,0),h=g[v]("►"),i=d.cache=d.cache||{},j=d.count=d.count||[];return i[f](h)?c?c(i[h]):i[h]:(j[w]>=1e3&&delete i[j.shift()],j[L](h),i[h]=a[m](b,g),c?c(i[h]):i[h])}return d}function cp(){return this.x+q+this.y}function cB(b){return function(c,d,e,f){var g={back:b};return a.is(e,"function")?f=e:g.rot=e,c&&c.constructor==bN&&(c=c.attrs.path),c&&(g.along=c),this.animate(g,d,f)}}function cC(a,b,c,d,e,f){function m(a){return((i*a+h)*a+g)*a}function n(a,b){var c=o(a,b);return((l*c+k)*c+j)*c}function o(a,b){var c,d,e,f,j,k;for(e=a,k=0;k<8;k++){f=m(e)-a;if(B(f)<b)return e;j=(3*i*e+2*h)*e+g;if(B(j)<1e-6)break;e-=f/j}c=0,d=1,e=a;if(e<c)return c;if(e>d)return d;while(c<d){f=m(e);if(B(f-a)<b)return e;a>f?c=e:d=e,e=(d-c)/2+c}return e}var g=3*b,h=3*(d-b)-g,i=1-g-h,j=3*c,k=3*(e-c)-j,l=1-j-k;return n(a,1/(200*f))}a.version="1.5.2";var b=/[, ]+/,c={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},d=/\{(\d+)\}/g,e="prototype",f="hasOwnProperty",g=document,h=window,i={was:Object[e][f].call(h,"Raphael"),is:h.Raphael},j=function(){this.customAttributes={}},k,l="appendChild",m="apply",n="concat",o="createTouch"in g,p="",q=" ",r=String,s="split",t="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[s](q),u={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},v="join",w="length",x=r[e].toLowerCase,y=Math,z=y.max,A=y.min,B=y.abs,C=y.pow,D=y.PI,E="number",F="string",G="array",H="toString",I="fill",J=Object[e][H],K={},L="push",M=/^url\(['"]?([^\)]+?)['"]?\)$/i,N=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,O={NaN:1,Infinity:1,"-Infinity":1},P=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Q=y.round,R="setAttribute",S=parseFloat,T=parseInt,U=" progid:DXImageTransform.Microsoft",V=r[e].toUpperCase,W={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},X={along:"along",blur:E,"clip-rect":"csv",cx:E,cy:E,fill:"colour","fill-opacity":E,"font-size":E,height:E,opacity:E,path:"path",r:E,rotation:"csv",rx:E,ry:E,scale:"csv",stroke:"colour","stroke-opacity":E,"stroke-width":E,translation:"csv",width:E,x:E,y:E},Y="replace",Z=/^(from|to|\d+%?)$/,$=/\s*,\s*/,_={hs:1,rg:1},ba=/,?([achlmqrstvxz]),?/gi,bb=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,bc=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,bd=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,be=function(a,b){return a.key-b.key};a.type=h.SVGAngle||g.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(a.type=="VML"){var bf=g.createElement("div"),bg;bf.innerHTML='<v:shape adj="1"/>',bg=bf.firstChild,bg.style.behavior="url(#default#VML)";if(!bg||typeof bg.adj!="object")return a.type=null;bf=null}a.svg=!(a.vml=a.type=="VML"),j[e]=a[e],k=j[e],a._id=0,a._oid=0,a.fn={},a.is=function(a,b){return b=x.call(b),b=="finite"?!O[f](+a):b=="null"&&a===null||b==typeof a||b=="object"&&a===Object(a)||b=="array"&&Array.isArray&&Array.isArray(a)||J.call(a).slice(8,-1).toLowerCase()==b},a.angle=function(b,c,d,e,f,g){if(f==null){var h=b-d,i=c-e;return!h&&!i?0:((h<0)*180+y.atan(-i/-h)*180/D+360)%360}return a.angle(b,c,f,g)-a.angle(d,e,f,g)},a.rad=function(a){return a%360*D/180},a.deg=function(a){return a*180/D%360},a.snapTo=function(b,c,d){d=a.is(d,"finite")?d:10;if(a.is(b,G)){var e=b.length;while(e--)if(B(b[e]-c)<=d)return b[e]}else{b=+b;var f=c%b;if(f<d)return c-f;if(f>b-d)return c-f+b}return c},a.setWindow=function(a){h=a,g=h.document};var bi=function(b){if(a.vml){var c=/^\s+|\s+$/g,d;try{var e=new ActiveXObject("htmlfile");e.write("<body>"),e.close(),d=e.body}catch(f){d=createPopup().document.body}var h=d.createTextRange();bi=bm(function(a){try{d.style.color=r(a)[Y](c,p);var b=h.queryCommandValue("ForeColor");return b=(b&255)<<16|b&65280|(b&16711680)>>>16,"#"+("000000"+b[H](16)).slice(-6)}catch(e){return"none"}})}else{var i=g.createElement("i");i.title="Raphaël Colour Picker",i.style.display="none",g.body[l](i),bi=bm(function(a){return i.style.color=a,g.defaultView.getComputedStyle(i,p).getPropertyValue("color")})}return bi(b)},bj=function(){return"hsb("+[this.h,this.s,this.b]+")"},bk=function(){return"hsl("+[this.h,this.s,this.l]+")"},bl=function(){return this.hex};a.hsb2rgb=function(b,c,d,e){return a.is(b,"object")&&"h"in b&&"s"in b&&"b"in b&&(d=b.b,c=b.s,b=b.h,e=b.o),a.hsl2rgb(b,c,d/2,e)},a.hsl2rgb=function(b,c,d,e){a.is(b,"object")&&"h"in b&&"s"in b&&"l"in b&&(d=b.l,c=b.s,b=b.h);if(b>1||c>1||d>1)b/=360,c/=100,d/=100;var f={},g=["r","g","b"],h,i,j,k,l,m;if(!c)f={r:d,g:d,b:d};else{d<.5?h=d*(1+c):h=d+c-d*c,i=2*d-h;for(var n=0;n<3;n++)j=b+1/3*-(n-1),j<0&&j++,j>1&&j--,j*6<1?f[g[n]]=i+(h-i)*6*j:j*2<1?f[g[n]]=h:j*3<2?f[g[n]]=i+(h-i)*(2/3-j)*6:f[g[n]]=i}return f.r*=255,f.g*=255,f.b*=255,f.hex="#"+(16777216|f.b|f.g<<8|f.r<<16).toString(16).slice(1),a.is(e,"finite")&&(f.opacity=e),f.toString=bl,f},a.rgb2hsb=function(b,c,d){c==null&&a.is(b,"object")&&"r"in b&&"g"in b&&"b"in b&&(d=b.b,c=b.g,b=b.r);if(c==null&&a.is(b,F)){var e=a.getRGB(b);b=e.r,c=e.g,d=e.b}if(b>1||c>1||d>1)b/=255,c/=255,d/=255;var f=z(b,c,d),g=A(b,c,d),h,i,j=f;if(g==f)return{h:0,s:0,b:f,toString:bj};var k=f-g;return i=k/f,b==f?h=(c-d)/k:c==f?h=2+(d-b)/k:h=4+(b-c)/k,h/=6,h<0&&h++,h>1&&h--,{h:h,s:i,b:j,toString:bj}},a.rgb2hsl=function(b,c,d){c==null&&a.is(b,"object")&&"r"in b&&"g"in b&&"b"in b&&(d=b.b,c=b.g,b=b.r);if(c==null&&a.is(b,F)){var e=a.getRGB(b);b=e.r,c=e.g,d=e.b}if(b>1||c>1||d>1)b/=255,c/=255,d/=255;var f=z(b,c,d),g=A(b,c,d),h,i,j=(f+g)/2,k;if(g==f)k={h:0,s:0,l:j};else{var l=f-g;i=j<.5?l/(f+g):l/(2-f-g),b==f?h=(c-d)/l:c==f?h=2+(d-b)/l:h=4+(b-c)/l,h/=6,h<0&&h++,h>1&&h--,k={h:h,s:i,l:j}}return k.toString=bk,k},a._path2string=function(){return this.join(",")[Y](ba,"$1")},a.getRGB=bm(function(b){if(!b||!!((b=r(b)).indexOf("-")+1))return{r:-1,g:-1,b:-1,hex:"none",error:1};if(b=="none")return{r:-1,g:-1,b:-1,hex:"none"};!_[f](b.toLowerCase().substring(0,2))&&b.charAt()!="#"&&(b=bi(b));var c,d,e,g,h,i,j,k=b.match(N);return k?(k[2]&&(g=T(k[2].substring(5),16),e=T(k[2].substring(3,5),16),d=T(k[2].substring(1,3),16)),k[3]&&(g=T((i=k[3].charAt(3))+i,16),e=T((i=k[3].charAt(2))+i,16),d=T((i=k[3].charAt(1))+i,16)),k[4]&&(j=k[4][s]($),d=S(j[0]),j[0].slice(-1)=="%"&&(d*=2.55),e=S(j[1]),j[1].slice(-1)=="%"&&(e*=2.55),g=S(j[2]),j[2].slice(-1)=="%"&&(g*=2.55),k[1].toLowerCase().slice(0,4)=="rgba"&&(h=S(j[3])),j[3]&&j[3].slice(-1)=="%"&&(h/=100)),k[5]?(j=k[5][s]($),d=S(j[0]),j[0].slice(-1)=="%"&&(d*=2.55),e=S(j[1]),j[1].slice(-1)=="%"&&(e*=2.55),g=S(j[2]),j[2].slice(-1)=="%"&&(g*=2.55),(j[0].slice(-3)=="deg"||j[0].slice(-1)=="°")&&(d/=360),k[1].toLowerCase().slice(0,4)=="hsba"&&(h=S(j[3])),j[3]&&j[3].slice(-1)=="%"&&(h/=100),a.hsb2rgb(d,e,g,h)):k[6]?(j=k[6][s]($),d=S(j[0]),j[0].slice(-1)=="%"&&(d*=2.55),e=S(j[1]),j[1].slice(-1)=="%"&&(e*=2.55),g=S(j[2]),j[2].slice(-1)=="%"&&(g*=2.55),(j[0].slice(-3)=="deg"||j[0].slice(-1)=="°")&&(d/=360),k[1].toLowerCase().slice(0,4)=="hsla"&&(h=S(j[3])),j[3]&&j[3].slice(-1)=="%"&&(h/=100),a.hsl2rgb(d,e,g,h)):(k={r:d,g:e,b:g},k.hex="#"+(16777216|g|e<<8|d<<16).toString(16).slice(1),a.is(h,"finite")&&(k.opacity=h),k)):{r:-1,g:-1,b:-1,hex:"none",error:1}},a),a.getColor=function(a){var b=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||.75},c=this.hsb2rgb(b.h,b.s,b.b);return b.h+=.075,b.h>1&&(b.h=0,b.s-=.2,b.s<=0&&(this.getColor.start={h:0,s:1,b:b.b})),c.hex},a.getColor.reset=function(){delete this.start},a.parsePathString=bm(function(b){if(!b)return null;var c={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},d=[];return a.is(b,G)&&a.is(b[0],G)&&(d=bo(b)),d[w]||r(b)[Y](bb,function(a,b,e){var f=[],g=x.call(b);e[Y](bc,function(a,b){b&&f[L](+b)}),g=="m"&&f[w]>2&&(d[L]([b][n](f.splice(0,2))),g="l",b=b=="m"?"l":"L");while(f[w]>=c[g]){d[L]([b][n](f.splice(0,c[g])));if(!c[g])break}}),d[H]=a._path2string,d}),a.findDotsAtSegment=function(a,b,c,d,e,f,g,h,i){var j=1-i,k=C(j,3)*a+C(j,2)*3*i*c+j*3*i*i*e+C(i,3)*g,l=C(j,3)*b+C(j,2)*3*i*d+j*3*i*i*f+C(i,3)*h,m=a+2*i*(c-a)+i*i*(e-2*c+a),n=b+2*i*(d-b)+i*i*(f-2*d+b),o=c+2*i*(e-c)+i*i*(g-2*e+c),p=d+2*i*(f-d)+i*i*(h-2*f+d),q=(1-i)*a+i*c,r=(1-i)*b+i*d,s=(1-i)*e+i*g,t=(1-i)*f+i*h,u=90-y.atan((m-o)/(n-p))*180/D;return(m>o||n<p)&&(u+=180),{x:k,y:l,m:{x:m,y:n},n:{x:o,y:p},start:{x:q,y:r},end:{x:s,y:t},alpha:u}};var bn=bm(function(a){if(!a)return{x:0,y:0,width:0,height:0};a=bw(a);var b=0,c=0,d=[],e=[],f;for(var g=0,h=a[w];g<h;g++){f=a[g];if(f[0]=="M")b=f[1],c=f[2],d[L](b),e[L](c);else{var i=bv(b,c,f[1],f[2],f[3],f[4],f[5],f[6]);d=d[n](i.min.x,i.max.x),e=e[n](i.min.y,i.max.y),b=f[5],c=f[6]}}var j=A[m](0,d),k=A[m](0,e);return{x:j,y:k,width:z[m](0,d)-j,height:z[m](0,e)-k}}),bo=function(b){var c=[];if(!a.is(b,G)||!a.is(b&&b[0],G))b=a.parsePathString(b);for(var d=0,e=b[w];d<e;d++){c[d]=[];for(var f=0,g=b[d][w];f<g;f++)c[d][f]=b[d][f]}return c[H]=a._path2string,c},bp=bm(function(b){if(!a.is(b,G)||!a.is(b&&b[0],G))b=a.parsePathString(b);var c=[],d=0,e=0,f=0,g=0,h=0;b[0][0]=="M"&&(d=b[0][1],e=b[0][2],f=d,g=e,h++,c[L](["M",d,e]));for(var i=h,j=b[w];i<j;i++){var k=c[i]=[],l=b[i];if(l[0]!=x.call(l[0])){k[0]=x.call(l[0]);switch(k[0]){case"a":k[1]=l[1],k[2]=l[2],k[3]=l[3],k[4]=l[4],k[5]=l[5],k[6]=+(l[6]-d).toFixed(3),k[7]=+(l[7]-e).toFixed(3);break;case"v":k[1]=+(l[1]-e).toFixed(3);break;case"m":f=l[1],g=l[2];default:for(var m=1,n=l[w];m<n;m++)k[m]=+(l[m]-(m%2?d:e)).toFixed(3)}}else{k=c[i]=[],l[0]=="m"&&(f=l[1]+d,g=l[2]+e);for(var o=0,p=l[w];o<p;o++)c[i][o]=l[o]}var q=c[i][w];switch(c[i][0]){case"z":d=f,e=g;break;case"h":d+=+c[i][q-1];break;case"v":e+=+c[i][q-1];break;default:d+=+c[i][q-2],e+=+c[i][q-1]}}return c[H]=a._path2string,c},0,bo),bq=bm(function(b){if(!a.is(b,G)||!a.is(b&&b[0],G))b=a.parsePathString(b);var c=[],d=0,e=0,f=0,g=0,h=0;b[0][0]=="M"&&(d=+b[0][1],e=+b[0][2],f=d,g=e,h++,c[0]=["M",d,e]);for(var i=h,j=b[w];i<j;i++){var k=c[i]=[],l=b[i];if(l[0]!=V.call(l[0])){k[0]=V.call(l[0]);switch(k[0]){case"A":k[1]=l[1],k[2]=l[2],k[3]=l[3],k[4]=l[4],k[5]=l[5],k[6]=+(l[6]+d),k[7]=+(l[7]+e);break;case"V":k[1]=+l[1]+e;break;case"H":k[1]=+l[1]+d;break;case"M":f=+l[1]+d,g=+l[2]+e;default:for(var m=1,n=l[w];m<n;m++)k[m]=+l[m]+(m%2?d:e)}}else for(var o=0,p=l[w];o<p;o++)c[i][o]=l[o];switch(k[0]){case"Z":d=f,e=g;break;case"H":d=k[1];break;case"V":e=k[1];break;case"M":f=c[i][c[i][w]-2],g=c[i][c[i][w]-1];default:d=c[i][c[i][w]-2],e=c[i][c[i][w]-1]}}return c[H]=a._path2string,c},null,bo),br=function(a,b,c,d){return[a,b,c,d,c,d]},bs=function(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]},bt=function(a,b,c,d,e,f,g,h,i,j){var k=D*120/180,l=D/180*(+e||0),m=[],o,p=bm(function(a,b,c){var d=a*y.cos(c)-b*y.sin(c),e=a*y.sin(c)+b*y.cos(c);return{x:d,y:e}});if(!j){o=p(a,b,-l),a=o.x,b=o.y,o=p(h,i,-l),h=o.x,i=o.y;var q=y.cos(D/180*e),r=y.sin(D/180*e),t=(a-h)/2,u=(b-i)/2,x=t*t/(c*c)+u*u/(d*d);x>1&&(x=y.sqrt(x),c=x*c,d=x*d);var z=c*c,A=d*d,C=(f==g?-1:1)*y.sqrt(B((z*A-z*u*u-A*t*t)/(z*u*u+A*t*t))),E=C*c*u/d+(a+h)/2,F=C*-d*t/c+(b+i)/2,G=y.asin(((b-F)/d).toFixed(9)),H=y.asin(((i-F)/d).toFixed(9));G=a<E?D-G:G,H=h<E?D-H:H,G<0&&(G=D*2+G),H<0&&(H=D*2+H),g&&G>H&&(G-=D*2),!g&&H>G&&(H-=D*2)}else G=j[0],H=j[1],E=j[2],F=j[3];var I=H-G;if(B(I)>k){var J=H,K=h,L=i;H=G+k*(g&&H>G?1:-1),h=E+c*y.cos(H),i=F+d*y.sin(H),m=bt(h,i,c,d,e,0,g,K,L,[H,J,E,F])}I=H-G;var M=y.cos(G),N=y.sin(G),O=y.cos(H),P=y.sin(H),Q=y.tan(I/4),R=4/3*c*Q,S=4/3*d*Q,T=[a,b],U=[a+R*N,b-S*M],V=[h+R*P,i-S*O],W=[h,i];U[0]=2*T[0]-U[0],U[1]=2*T[1]-U[1];if(j)return[U,V,W][n](m);m=[U,V,W][n](m)[v]()[s](",");var X=[];for(var Y=0,Z=m[w];Y<Z;Y++)X[Y]=Y%2?p(m[Y-1],m[Y],l).y:p(m[Y],m[Y+1],l).x;return X},bu=function(a,b,c,d,e,f,g,h,i){var j=1-i;return{x:C(j,3)*a+C(j,2)*3*i*c+j*3*i*i*e+C(i,3)*g,y:C(j,3)*b+C(j,2)*3*i*d+j*3*i*i*f+C(i,3)*h}},bv=bm(function(a,b,c,d,e,f,g,h){var i=e-2*c+a-(g-2*e+c),j=2*(c-a)-2*(e-c),k=a-c,l=(-j+y.sqrt(j*j-4*i*k))/2/i,n=(-j-y.sqrt(j*j-4*i*k))/2/i,o=[b,h],p=[a,g],q;return B(l)>"1e12"&&(l=.5),B(n)>"1e12"&&(n=.5),l>0&&l<1&&(q=bu(a,b,c,d,e,f,g,h,l),p[L](q.x),o[L](q.y)),n>0&&n<1&&(q=bu(a,b,c,d,e,f,g,h,n),p[L](q.x),o[L](q.y)),i=f-2*d+b-(h-2*f+d),j=2*(d-b)-2*(f-d),k=b-d,l=(-j+y.sqrt(j*j-4*i*k))/2/i,n=(-j-y.sqrt(j*j-4*i*k))/2/i,B(l)>"1e12"&&(l=.5),B(n)>"1e12"&&(n=.5),l>0&&l<1&&(q=bu(a,b,c,d,e,f,g,h,l),p[L](q.x),o[L](q.y)),n>0&&n<1&&(q=bu(a,b,c,d,e,f,g,h,n),p[L](q.x),o[L](q.y)),{min:{x:A[m](0,p),y:A[m](0,o)},max:{x:z[m](0,p),y:z[m](0,o)}}}),bw=bm(function(a,b){var c=bq(a),d=b&&bq(b),e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g=function(a,b){var c,d;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];!(a[0]in{T:1,Q:1})&&(b.qx=b.qy=null);switch(a[0]){case"M":b.X=a[1],b.Y=a[2];break;case"A":a=["C"][n](bt[m](0,[b.x,b.y][n](a.slice(1))));break;case"S":c=b.x+(b.x-(b.bx||b.x)),d=b.y+(b.y-(b.by||b.y)),a=["C",c,d][n](a.slice(1));break;case"T":b.qx=b.x+(b.x-(b.qx||b.x)),b.qy=b.y+(b.y-(b.qy||b.y)),a=["C"][n](bs(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case"Q":b.qx=a[1],b.qy=a[2],a=["C"][n](bs(b.x,b.y,a[1],a[2],a[3],a[4]));break;case"L":a=["C"][n](br(b.x,b.y,a[1],a[2]));break;case"H":a=["C"][n](br(b.x,b.y,a[1],b.y));break;case"V":a=["C"][n](br(b.x,b.y,b.x,a[1]));break;case"Z":a=["C"][n](br(b.x,b.y,b.X,b.Y))}return a},h=function(a,b){if(a[b][w]>7){a[b].shift();var e=a[b];while(e[w])a.splice(b++,0,["C"][n](e.splice(0,6)));a.splice(b,1),k=z(c[w],d&&d[w]||0)}},i=function(a,b,e,f,g){a&&b&&a[g][0]=="M"&&b[g][0]!="M"&&(b.splice(g,0,["M",f.x,f.y]),e.bx=0,e.by=0,e.x=a[g][1],e.y=a[g][2],k=z(c[w],d&&d[w]||0))};for(var j=0,k=z(c[w],d&&d[w]||0);j<k;j++){c[j]=g(c[j],e),h(c,j),d&&(d[j]=g(d[j],f)),d&&h(d,j),i(c,d,e,f,j),i(d,c,f,e,j);var l=c[j],o=d&&d[j],p=l[w],q=d&&o[w];e.x=l[p-2],e.y=l[p-1],e.bx=S(l[p-4])||e.x,e.by=S(l[p-3])||e.y,f.bx=d&&(S(o[q-4])||f.x),f.by=d&&(S(o[q-3])||f.y),f.x=d&&o[q-2],f.y=d&&o[q-1]}return d?[c,d]:c},null,bo),bx=bm(function(b){var c=[];for(var d=0,e=b[w];d<e;d++){var f={},g=b[d].match(/^([^:]*):?([\d\.]*)/);f.color=a.getRGB(g[1]);if(f.color.error)return null;f.color=f.color.hex,g[2]&&(f.offset=g[2]+"%"),c[L](f)}for(d=1,e=c[w]-1;d<e;d++)if(!c[d].offset){var h=S(c[d-1].offset||0),i=0;for(var j=d+1;j<e;j++)if(c[j].offset){i=c[j].offset;break}i||(i=100,j=e),i=S(i);var k=(i-h)/(j-d+1);for(;d<j;d++)h+=k,c[d].offset=h+"%"}return c}),by=function(b,c,d,e){var f;if(!a.is(b,F)&&!a.is(b,"object"))return{container:1,x:b,y:c,width:d,height:e};f=a.is(b,F)?g.getElementById(b):b;if(f.tagName)return c==null?{container:f,width:f.style.pixelWidth||f.offsetWidth,height:f.style.pixelHeight||f.offsetHeight}:{container:f,width:c,height:d}},bz=function(a,b){var c=this;for(var d in b)if(b[f](d)&&!(d in a))switch(typeof b[d]){case"function":(function(b){a[d]=a===c?b:function(){return b[m](c,arguments)}})(b[d]);break;case"object":a[d]=a[d]||{},bz.call(this,a[d],b[d]);break;default:a[d]=b[d]}},bA=function(a,b){a==b.top&&(b.top=a.prev),a==b.bottom&&(b.bottom=a.next),a.next&&(a.next.prev=a.prev),a.prev&&(a.prev.next=a.next)},bB=function(a,b){if(b.top===a)return;bA(a,b),a.next=null,a.prev=b.top,b.top.next=a,b.top=a},bC=function(a,b){if(b.bottom===a)return;bA(a,b),a.next=b.bottom,a.prev=null,b.bottom.prev=a,b.bottom=a},bD=function(a,b,c){bA(a,c),b==c.top&&(c.top=a),b.next&&(b.next.prev=a),a.next=b.next,a.prev=b,b.next=a},bE=function(a,b,c){bA(a,c),b==c.bottom&&(c.bottom=a),b.prev&&(b.prev.next=a),a.prev=b.prev,b.prev=a,a.next=b},bF=function(a){return function(){throw new Error("Raphaël: you are calling to method “"+a+"” of removed object")}};a.pathToRelative=bp;if(a.svg){k.svgns="http://www.w3.org/2000/svg",k.xlink="http://www.w3.org/1999/xlink",Q=function(a){return+a+(~~a===a)*.5};var bG=function(a,b){if(!b)return a=g.createElementNS(k.svgns,a),a.style.webkitTapHighlightColor="rgba(0,0,0,0)",a;for(var c in b)b[f](c)&&a[R](c,r(b[c]))};a[H]=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var bH=function(a,b){var c=bG("path");b.canvas&&b.canvas[l](c);var d=new bN(c,b);return d.type="path",bK(d,{fill:"none",stroke:"#000",path:a}),d},bI=function(a,b,c){var d="linear",e=.5,f=.5,h=a.style;b=r(b)[Y](bd,function(a,b,c){d="radial";if(b&&c){e=S(b),f=S(c);var g=(f>.5)*2-1;C(e-.5,2)+C(f-.5,2)>.25&&(f=y.sqrt(.25-C(e-.5,2))*g+.5)&&f!=.5&&(f=f.toFixed(5)-1e-5*g)}return p}),b=b[s](/\s*\-\s*/);if(d=="linear"){var i=b.shift();i=-S(i);if(isNaN(i))return null;var j=[0,0,y.cos(i*D/180),y.sin(i*D/180)],k=1/(z(B(j[2]),B(j[3]))||1);j[2]*=k,j[3]*=k,j[2]<0&&(j[0]=-j[2],j[2]=0),j[3]<0&&(j[1]=-j[3],j[3]=0)}var m=bx(b);if(!m)return null;var n=a.getAttribute(I);n=n.match(/^url\(#(.*)\)$/),n&&c.defs.removeChild(g.getElementById(n[1]));var o=bG(d+"Gradient");o.id=bh(),bG(o,d=="radial"?{fx:e,fy:f}:{x1:j[0],y1:j[1],x2:j[2],y2:j[3]}),c.defs[l](o);for(var q=0,t=m[w];q<t;q++){var u=bG("stop");bG(u,{offset:m[q].offset?m[q].offset:q?"100%":"0%","stop-color":m[q].color||"#fff"}),o[l](u)}return bG(a,{fill:"url(#"+o.id+")",opacity:1,"fill-opacity":1}),h.fill=p,h.opacity=1,h.fillOpacity=1,1},bJ=function(b){var c=b.getBBox();bG(b.pattern,{patternTransform:a.format("translate({0},{1})",c.x,c.y)})},bK=function(c,d){var e={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},h=c.node,i=c.attrs,j=c.rotate(),k=function(a,b){b=e[x.call(b)];if(b){var c=a.attrs["stroke-width"]||"1",f={round:c,square:c,butt:0}[a.attrs["stroke-linecap"]||d["stroke-linecap"]]||0,g=[],i=b[w];while(i--)g[i]=b[i]*c+(i%2?1:-1)*f;bG(h,{"stroke-dasharray":g[v](",")})}};d[f]("rotation")&&(j=d.rotation);var m=r(j)[s](b);m.length-1?(m[1]=+m[1],m[2]=+m[2]):m=null,S(j)&&c.rotate(0,!0);for(var n in d)if(d[f](n)){if(!W[f](n))continue;var o=d[n];i[n]=o;switch(n){case"blur":c.blur(o);break;case"rotation":c.rotate(o,!0);break;case"href":case"title":case"target":var t=h.parentNode;if(x.call(t.tagName)!="a"){var u=bG("a");t.insertBefore(u,h),u[l](h),t=u}n=="target"&&o=="blank"?t.setAttributeNS(c.paper.xlink,"show","new"):t.setAttributeNS(c.paper.xlink,n,o);break;case"cursor":h.style.cursor=o;break;case"clip-rect":var y=r(o)[s](b);if(y[w]==4){c.clip&&c.clip.parentNode.parentNode.removeChild(c.clip.parentNode);var z=bG("clipPath"),A=bG("rect");z.id=bh(),bG(A,{x:y[0],y:y[1],width:y[2],height:y[3]}),z[l](A),c.paper.defs[l](z),bG(h,{"clip-path":"url(#"+z.id+")"}),c.clip=A}if(!o){var B=g.getElementById(h.getAttribute("clip-path")[Y](/(^url\(#|\)$)/g,p));B&&B.parentNode.removeChild(B),bG(h,{"clip-path":p}),delete c.clip}break;case"path":c.type=="path"&&bG(h,{d:o?i.path=bq(o):"M0,0"});break;case"width":h[R](n,o);if(i.fx)n="x",o=i.x;else break;case"x":i.fx&&(o=-i.x-(i.width||0));case"rx":if(n=="rx"&&c.type=="rect")break;case"cx":m&&(n=="x"||n=="cx")&&(m[1]+=o-i[n]),h[R](n,o),c.pattern&&bJ(c);break;case"height":h[R](n,o);if(i.fy)n="y",o=i.y;else break;case"y":i.fy&&(o=-i.y-(i.height||0));case"ry":if(n=="ry"&&c.type=="rect")break;case"cy":m&&(n=="y"||n=="cy")&&(m[2]+=o-i[n]),h[R](n,o),c.pattern&&bJ(c);break;case"r":c.type=="rect"?bG(h,{rx:o,ry:o}):h[R](n,o);break;case"src":c.type=="image"&&h.setAttributeNS(c.paper.xlink,"href",o);break;case"stroke-width":h.style.strokeWidth=o,h[R](n,o),i["stroke-dasharray"]&&k(c,i["stroke-dasharray"]);break;case"stroke-dasharray":k(c,o);break;case"translation":var C=r(o)[s](b);C[0]=+C[0]||0,C[1]=+C[1]||0,m&&(m[1]+=C[0],m[2]+=C[1]),cA.call(c,C[0],C[1]);break;case"scale":C=r(o)[s](b),c.scale(+C[0]||1,+C[1]||+C[0]||1,isNaN(S(C[2]))?null:+C[2],isNaN(S(C[3]))?null:+C[3]);break;case I:var D=r(o).match(M);if(D){z=bG("pattern");var E=bG("image");z.id=bh(),bG(z,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),bG(E,{x:0,y:0}),E.setAttributeNS(c.paper.xlink,"href",D[1]),z[l](E);var F=g.createElement("img");F.style.cssText="position:absolute;left:-9999em;top-9999em",F.onload=function(){bG(z,{width:this.offsetWidth,height:this.offsetHeight}),bG(E,{width:this.offsetWidth,height:this.offsetHeight}),g.body.removeChild(this),c.paper.safari()},g.body[l](F),F.src=D[1],c.paper.defs[l](z),h.style.fill="url(#"+z.id+")",bG(h,{fill:"url(#"+z.id+")"}),c.pattern=z,c.pattern&&bJ(c);break}var G=a.getRGB(o);if(!G.error)delete d.gradient,delete i.gradient,!a.is(i.opacity,"undefined")&&a.is(d.opacity,"undefined")&&bG(h,{opacity:i.opacity}),!a.is(i["fill-opacity"],"undefined")&&a.is(d["fill-opacity"],"undefined")&&bG(h,{"fill-opacity":i["fill-opacity"]});else if(({circle:1,ellipse:1}[f](c.type)||r(o).charAt()!="r")&&bI(h,o,c.paper)){i.gradient=o,i.fill="none";break}G[f]("opacity")&&bG(h,{"fill-opacity":G.opacity>1?G.opacity/100:G.opacity});case"stroke":G=a.getRGB(o),h[R](n,G.hex),n=="stroke"&&G[f]("opacity")&&bG(h,{"stroke-opacity":G.opacity>1?G.opacity/100:G.opacity});break;case"gradient":((({circle:1,ellipse:1}))[f](c.type)||r(o).charAt()!="r")&&bI(h,o,c.paper);break;case"opacity":i.gradient&&!i[f]("stroke-opacity")&&bG(h,{"stroke-opacity":o>1?o/100:o});case"fill-opacity":if(i.gradient){var H=g.getElementById(h.getAttribute(I)[Y](/^url\(#|\)$/g,p));if(H){var J=H.getElementsByTagName("stop");J[J[w]-1][R]("stop-opacity",o)}break};default:n=="font-size"&&(o=T(o,10)+"px");var K=n[Y](/(\-.)/g,function(a){return V.call(a.substring(1))});h.style[K]=o,h[R](n,o)}}bM(c,d),m?c.rotate(m.join(q)):S(j)&&c.rotate(j,!0)},bL=1.2,bM=function(b,c){if(b.type!="text"||!(c[f]("text")||c[f]("font")||c[f]("font-size")||c[f]("x")||c[f]("y")))return;var d=b.attrs,e=b.node,h=e.firstChild?T(g.defaultView.getComputedStyle(e.firstChild,p).getPropertyValue("font-size"),10):10;if(c[f]("text")){d.text=c.text;while(e.firstChild)e.removeChild(e.firstChild);var i=r(c.text)[s]("\n");for(var j=0,k=i[w];j<k;j++)if(i[j]){var m=bG("tspan");j&&bG(m,{dy:h*bL,x:d.x}),m[l](g.createTextNode(i[j])),e[l](m)}}else{i=e.getElementsByTagName("tspan");for(j=0,k=i[w];j<k;j++)j&&bG(i[j],{dy:h*bL,x:d.x})}bG(e,{y:d.y});var n=b.getBBox(),o=d.y-(n.y+n.height/2);o&&a.is(o,"finite")&&bG(e,{y:d.y+o})},bN=function(b,c){var d=0,e=0;this[0]=b,this.id=a._oid++,this.node=b,b.raphael=this,this.paper=c,this.attrs=this.attrs||{},this.transformations=[],this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1},!c.bottom&&(c.bottom=this),this.prev=c.top,c.top&&(c.top.next=this),c.top=this,this.next=null},bO=bN[e];bN[e].rotate=function(c,d,e){if(this.removed)return this;if(c==null)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][v](q):this._.rt.deg;var f=this.getBBox();return c=r(c)[s](b),c[w]-1&&(d=S(c[1]),e=S(c[2])),c=S(c[0]),d!=null&&d!==!1?this._.rt.deg=c:this._.rt.deg+=c,e==null&&(d=null),this._.rt.cx=d,this._.rt.cy=e,d=d==null?f.x+f.width/2:d,e=e==null?f.y+f.height/2:e,this._.rt.deg?(this.transformations[0]=a.format("rotate({0} {1} {2})",this._.rt.deg,d,e),this.clip&&bG(this.clip,{transform:a.format("rotate({0} {1} {2})",-this._.rt.deg,d,e)})):(this.transformations[0]=p,this.clip&&bG(this.clip,{transform:p})),bG(this.node,{transform:this.transformations[v](q)}),this},bN[e].hide=function(){return!this.removed&&(this.node.style.display="none"),this},bN[e].show=function(){return!this.removed&&(this.node.style.display=""),this},bN[e].remove=function(){if(this.removed)return;bA(this,this.paper),this.node.parentNode.removeChild(this.node);for(var a in this)delete this[a];this.removed=!0},bN[e].getBBox=function(){if(this.removed)return this;if(this.type=="path")return bn(this.attrs.path);if(this.node.style.display=="none"){this.show();var a=!0}var b={};try{b=this.node.getBBox()}catch(c){}finally{b=b||{}}if(this.type=="text"){b={x:b.x,y:Infinity,width:0,height:0};for(var d=0,e=this.node.getNumberOfChars();d<e;d++){var f=this.node.getExtentOfChar(d);f.y<b.y&&(b.y=f.y),f.y+f.height-b.y>b.height&&(b.height=f.y+f.height-b.y),f.x+f.width-b.x>b.width&&(b.width=f.x+f.width-b.x)}}return a&&this.hide(),b},bN[e].attr=function(b,c){if(this.removed)return this;if(b==null){var d={};for(var e in this.attrs)this.attrs[f](e)&&(d[e]=this.attrs[e]);return this._.rt.deg&&(d.rotation=this.rotate()),(this._.sx!=1||this._.sy!=1)&&(d.scale=this.scale()),d.gradient&&d.fill=="none"&&(d.fill=d.gradient)&&delete d.gradient,d}if(c==null&&a.is(b,F))return b=="translation"?cA.call(this):b=="rotation"?this.rotate():b=="scale"?this.scale():b==I&&this.attrs.fill=="none"&&this.attrs.gradient?this.attrs.gradient:this.attrs[b];if(c==null&&a.is(b,G)){var g={};for(var h=0,i=b.length;h<i;h++)g[b[h]]=this.attr(b[h]);return g}if(c!=null){var j={};j[b]=c}else b!=null&&a.is(b,"object")&&(j=b);for(var k in this.paper.customAttributes)if(this.paper.customAttributes[f](k)&&j[f](k)&&a.is(this.paper.customAttributes[k],"function")){var l=this.paper.customAttributes[k].apply(this,[][n](j[k]));this.attrs[k]=j[k];for(var m in l)l[f](m)&&(j[m]=l[m])}return bK(this,j),this},bN[e].toFront=function(){if(this.removed)return this;this.node.parentNode[l](this.node);var a=this.paper;return a.top!=this&&bB(this,a),this},bN[e].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),bC(this,this.paper);var a=this.paper}return this},bN[e].insertAfter=function(a){if(this.removed)return this;var b=a.node||a[a.length-1].node;return b.nextSibling?b.parentNode.insertBefore(this.node,b.nextSibling):b.parentNode[l](this.node),bD(this,a,this.paper),this},bN[e].insertBefore=function(a){if(this.removed)return this;var b=a.node||a[0].node;return b.parentNode.insertBefore(this.node,b),bE(this,a,this.paper),this},bN[e].blur=function(a){var b=this;if(+a!==0){var c=bG("filter"),d=bG("feGaussianBlur");b.attrs.blur=a,c.id=bh(),bG(d,{stdDeviation:+a||1.5}),c.appendChild(d),b.paper.defs.appendChild(c),b._blur=c,bG(b.node,{filter:"url(#"+c.id+")"})}else b._blur&&(b._blur.parentNode.removeChild(b._blur),delete b._blur,delete b.attrs.blur),b.node.removeAttribute("filter")};var bP=function(a,b,c,d){var e=bG("circle");a.canvas&&a.canvas[l](e);var f=new bN(e,a);return f.attrs={cx:b,cy:c,r:d,fill:"none",stroke:"#000"},f.type="circle",bG(e,f.attrs),f},bQ=function(a,b,c,d,e,f){var g=bG("rect");a.canvas&&a.canvas[l](g);var h=new bN(g,a);return h.attrs={x:b,y:c,width:d,height:e,r:f||0,rx:f||0,ry:f||0,fill:"none",stroke:"#000"},h.type="rect",bG(g,h.attrs),h},bR=function(a,b,c,d,e){var f=bG("ellipse");a.canvas&&a.canvas[l](f);var g=new bN(f,a);return g.attrs={cx:b,cy:c,rx:d,ry:e,fill:"none",stroke:"#000"},g.type="ellipse",bG(f,g.attrs),g},bS=function(a,b,c,d,e,f){var g=bG("image");bG(g,{x:c,y:d,width:e,height:f,preserveAspectRatio:"none"}),g.setAttributeNS(a.xlink,"href",b),a.canvas&&a.canvas[l](g);var h=new bN(g,a);return h.attrs={x:c,y:d,width:e,height:f,src:b},h.type="image",h},bT=function(a,b,c,d){var e=bG("text");bG(e,{x:b,y:c,"text-anchor":"middle"}),a.canvas&&a.canvas[l](e);var f=new bN(e,a);return f.attrs={x:b,y:c,"text-anchor":"middle",text:d,font:W.font,stroke:"none",fill:"#000"},f.type="text",bK(f,f.attrs),f},bU=function(a,b){return this.width=a||this.width,this.height=b||this.height,this.canvas[R]("width",this.width),this.canvas[R]("height",this.height),this},bV=function(){var b=by[m](0,arguments),c=b&&b.container,d=b.x,e=b.y,f=b.width,h=b.height;if(!c)throw new Error("SVG container not found.");var i=bG("svg");return d=d||0,e=e||0,f=f||512,h=h||342,bG(i,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:f,height:h}),c==1?(i.style.cssText="position:absolute;left:"+d+"px;top:"+e+"px",g.body[l](i)):c.firstChild?c.insertBefore(i,c.firstChild):c[l](i),c=new j,c.width=f,c.height=h,c.canvas=i,bz.call(c,c,a.fn),c.clear(),c};k.clear=function(){var a=this.canvas;while(a.firstChild)a.removeChild(a.firstChild);this.bottom=this.top=null,(this.desc=bG("desc"))[l](g.createTextNode("Created with Raphaël")),a[l](this.desc),a[l](this.defs=bG("defs"))},k.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=bF(a)}}if(a.vml){var bW={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},bX=/([clmz]),?([^clmz]*)/gi,bY=/ progid:\S+Blur\([^\)]+\)/g,bZ=/-?[^,\s-]+/g,b$=1e3+q+1e3,b_=10,ca={path:1,rect:1},cb=function(a){var b=/[ahqstv]/ig,c=bq;r(a).match(b)&&(c=bw),b=/[clmz]/g;if(c==bq&&!r(a).match(b)){var d=r(a)[Y](bX,function(a,b,c){var d=[],e=x.call(b)=="m",f=bW[b];return c[Y](bZ,function(a){e&&d[w]==2&&(f+=d+bW[b=="m"?"l":"L"],d=[]),d[L](Q(a*b_))}),f+d});return d}var e=c(a),f,g;d=[];for(var h=0,i=e[w];h<i;h++){f=e[h],g=x.call(e[h][0]),g=="z"&&(g="x");for(var j=1,k=f[w];j<k;j++)g+=Q(f[j]*b_)+(j!=k-1?",":p);d[L](g)}return d[v](q)};a[H]=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version},bH=function(a,b){var c=cd("group");c.style.cssText="position:absolute;left:0;top:0;width:"+b.width+"px;height:"+b.height+"px",c.coordsize=b.coordsize,c.coordorigin=b.coordorigin;var d=cd("shape"),e=d.style;e.width=b.width+"px",e.height=b.height+"px",d.coordsize=b$,d.coordorigin=b.coordorigin,c[l](d);var f=new bN(d,c,b),g={fill:"none",stroke:"#000"};return a&&(g.path=a),f.type="path",f.path=[],f.Path=p,bK(f,g),b.canvas[l](c),f},bK=function(c,d){c.attrs=c.attrs||{};var e=c.node,h=c.attrs,i=e.style,j,k=(d.x!=h.x||d.y!=h.y||d.width!=h.width||d.height!=h.height||d.r!=h.r)&&c.type=="rect",m=c;for(var n in d)d[f](n)&&(h[n]=d[n]);k&&(h.path=cc(h.x,h.y,h.width,h.height,h.r),c.X=h.x,c.Y=h.y,c.W=h.width,c.H=h.height),d.href&&(e.href=d.href),d.title&&(e.title=d.title),d.target&&(e.target=d.target),d.cursor&&(i.cursor=d.cursor),"blur"in d&&c.blur(d.blur);if(d.path&&c.type=="path"||k)e.path=cb(h.path);d.rotation!=null&&c.rotate(d.rotation,!0),d.translation&&(j=r(d.translation)[s](b),cA.call(c,j[0],j[1]),c._.rt.cx!=null&&(c._.rt.cx+=+j[0],c._.rt.cy+=+j[1],c.setBox(c.attrs,j[0],j[1]))),d.scale&&(j=r(d.scale)[s](b),c.scale(+j[0]||1,+j[1]||+j[0]||1,+j[2]||null,+j[3]||null));if("clip-rect"in d){var o=r(d["clip-rect"])[s](b);if(o[w]==4){o[2]=+o[2]+ +o[0],o[3]=+o[3]+ +o[1];var q=e.clipRect||g.createElement("div"),t=q.style,u=e.parentNode;t.clip=a.format("rect({1}px {2}px {3}px {0}px)",o),e.clipRect||(t.position="absolute",t.top=0,t.left=0,t.width=c.paper.width+"px",t.height=c.paper.height+"px",u.parentNode.insertBefore(q,u),q[l](u),e.clipRect=q)}d["clip-rect"]||e.clipRect&&(e.clipRect.style.clip=p)}c.type=="image"&&d.src&&(e.src=d.src),c.type=="image"&&d.opacity&&(e.filterOpacity=U+".Alpha(opacity="+d.opacity*100+")",i.filter=(e.filterMatrix||p)+(e.filterOpacity||p)),d.font&&(i.font=d.font),d["font-family"]&&(i.fontFamily='"'+d["font-family"][s](",")[0][Y](/^['"]+|['"]+$/g,p)+'"'),d["font-size"]&&(i.fontSize=d["font-size"]),d["font-weight"]&&(i.fontWeight=d["font-weight"]),d["font-style"]&&(i.fontStyle=d["font-style"]);if(d.opacity!=null||d["stroke-width"]!=null||d.fill!=null||d.stroke!=null||d["stroke-width"]!=null||d["stroke-opacity"]!=null||d["fill-opacity"]!=null||d["stroke-dasharray"]!=null||d["stroke-miterlimit"]!=null||d["stroke-linejoin"]!=null||d["stroke-linecap"]!=null){e=c.shape||e;var v=e.getElementsByTagName(I)&&e.getElementsByTagName(I)[0],x=!1;!v&&(x=v=cd(I));if("fill-opacity"in d||"opacity"in d){var y=((+h["fill-opacity"]+1||2)-1)*((+h.opacity+1||2)-1)*((+a.getRGB(d.fill).o+1||2)-1);y=A(z(y,0),1),v.opacity=y}d.fill&&(v.on=!0);if(v.on==null||d.fill=="none")v.on=!1;if(v.on&&d.fill){var B=d.fill.match(M);B?(v.src=B[1],v.type="tile"):(v.color=a.getRGB(d.fill).hex,v.src=p,v.type="solid",a.getRGB(d.fill).error&&(m.type in{circle:1,ellipse:1}||r(d.fill).charAt()!="r")&&bI(m,d.fill)&&(h.fill="none",h.gradient=d.fill))}x&&e[l](v);var C=e.getElementsByTagName("stroke")&&e.getElementsByTagName("stroke")[0],D=!1;!C&&(D=C=cd("stroke"));if(d.stroke&&d.stroke!="none"||d["stroke-width"]||d["stroke-opacity"]!=null||d["stroke-dasharray"]||d["stroke-miterlimit"]||d["stroke-linejoin"]||d["stroke-linecap"])C.on=!0;(d.stroke=="none"||C.on==null||d.stroke==0||d["stroke-width"]==0)&&(C.on=!1);var E=a.getRGB
(d.stroke);C.on&&d.stroke&&(C.color=E.hex),y=((+h["stroke-opacity"]+1||2)-1)*((+h.opacity+1||2)-1)*((+E.o+1||2)-1);var F=(S(d["stroke-width"])||1)*.75;y=A(z(y,0),1),d["stroke-width"]==null&&(F=h["stroke-width"]),d["stroke-width"]&&(C.weight=F),F&&F<1&&(y*=F)&&(C.weight=1),C.opacity=y,d["stroke-linejoin"]&&(C.joinstyle=d["stroke-linejoin"]||"miter"),C.miterlimit=d["stroke-miterlimit"]||8,d["stroke-linecap"]&&(C.endcap=d["stroke-linecap"]=="butt"?"flat":d["stroke-linecap"]=="square"?"square":"round");if(d["stroke-dasharray"]){var G={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};C.dashstyle=G[f](d["stroke-dasharray"])?G[d["stroke-dasharray"]]:p}D&&e[l](C)}if(m.type=="text"){i=m.paper.span.style,h.font&&(i.font=h.font),h["font-family"]&&(i.fontFamily=h["font-family"]),h["font-size"]&&(i.fontSize=h["font-size"]),h["font-weight"]&&(i.fontWeight=h["font-weight"]),h["font-style"]&&(i.fontStyle=h["font-style"]),m.node.string&&(m.paper.span.innerHTML=r(m.node.string)[Y](/</g,"&#60;")[Y](/&/g,"&#38;")[Y](/\n/g,"<br>")),m.W=h.w=m.paper.span.offsetWidth,m.H=h.h=m.paper.span.offsetHeight,m.X=h.x,m.Y=h.y+Q(m.H/2);switch(h["text-anchor"]){case"start":m.node.style["v-text-align"]="left",m.bbx=Q(m.W/2);break;case"end":m.node.style["v-text-align"]="right",m.bbx=-Q(m.W/2);break;default:m.node.style["v-text-align"]="center"}}},bI=function(a,b){a.attrs=a.attrs||{};var c=a.attrs,d,e="linear",f=".5 .5";a.attrs.gradient=b,b=r(b)[Y](bd,function(a,b,c){return e="radial",b&&c&&(b=S(b),c=S(c),C(b-.5,2)+C(c-.5,2)>.25&&(c=y.sqrt(.25-C(b-.5,2))*((c>.5)*2-1)+.5),f=b+q+c),p}),b=b[s](/\s*\-\s*/);if(e=="linear"){var g=b.shift();g=-S(g);if(isNaN(g))return null}var h=bx(b);if(!h)return null;a=a.shape||a.node,d=a.getElementsByTagName(I)[0]||cd(I),!d.parentNode&&a.appendChild(d);if(h[w]){d.on=!0,d.method="none",d.color=h[0].color,d.color2=h[h[w]-1].color;var i=[];for(var j=0,k=h[w];j<k;j++)h[j].offset&&i[L](h[j].offset+q+h[j].color);d.colors&&(d.colors.value=i[w]?i[v]():"0% "+d.color),e=="radial"?(d.type="gradientradial",d.focus="100%",d.focussize=f,d.focusposition=f):(d.type="gradient",d.angle=(270-g)%360)}return 1},bN=function(b,c,d){var e=0,f=0,g=0,h=1;this[0]=b,this.id=a._oid++,this.node=b,b.raphael=this,this.X=0,this.Y=0,this.attrs={},this.Group=c,this.paper=d,this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1},!d.bottom&&(d.bottom=this),this.prev=d.top,d.top&&(d.top.next=this),d.top=this,this.next=null},bO=bN[e],bO.rotate=function(a,c,d){return this.removed?this:a==null?this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][v](q):this._.rt.deg:(a=r(a)[s](b),a[w]-1&&(c=S(a[1]),d=S(a[2])),a=S(a[0]),c!=null?this._.rt.deg=a:this._.rt.deg+=a,d==null&&(c=null),this._.rt.cx=c,this._.rt.cy=d,this.setBox(this.attrs,c,d),this.Group.style.rotation=this._.rt.deg,this)},bO.setBox=function(a,b,c){if(this.removed)return this;var d=this.Group.style,e=this.shape&&this.shape.style||this.node.style;a=a||{};for(var g in a)a[f](g)&&(this.attrs[g]=a[g]);b=b||this._.rt.cx,c=c||this._.rt.cy;var h=this.attrs,i,j,k,l;switch(this.type){case"circle":i=h.cx-h.r,j=h.cy-h.r,k=l=h.r*2;break;case"ellipse":i=h.cx-h.rx,j=h.cy-h.ry,k=h.rx*2,l=h.ry*2;break;case"image":i=+h.x,j=+h.y,k=h.width||0,l=h.height||0;break;case"text":this.textpath.v=["m",Q(h.x),", ",Q(h.y-2),"l",Q(h.x)+1,", ",Q(h.y-2)][v](p),i=h.x-Q(this.W/2),j=h.y-this.H/2,k=this.W,l=this.H;break;case"rect":case"path":if(!this.attrs.path)i=0,j=0,k=this.paper.width,l=this.paper.height;else{var m=bn(this.attrs.path);i=m.x,j=m.y,k=m.width,l=m.height}break;default:i=0,j=0,k=this.paper.width,l=this.paper.height}b=b==null?i+k/2:b,c=c==null?j+l/2:c;var n=b-this.paper.width/2,o=c-this.paper.height/2,q;d.left!=(q=n+"px")&&(d.left=q),d.top!=(q=o+"px")&&(d.top=q),this.X=ca[f](this.type)?-n:i,this.Y=ca[f](this.type)?-o:j,this.W=k,this.H=l,ca[f](this.type)?(e.left!=(q=-n*b_+"px")&&(e.left=q),e.top!=(q=-o*b_+"px")&&(e.top=q)):this.type=="text"?(e.left!=(q=-n+"px")&&(e.left=q),e.top!=(q=-o+"px")&&(e.top=q)):(d.width!=(q=this.paper.width+"px")&&(d.width=q),d.height!=(q=this.paper.height+"px")&&(d.height=q),e.left!=(q=i-n+"px")&&(e.left=q),e.top!=(q=j-o+"px")&&(e.top=q),e.width!=(q=k+"px")&&(e.width=q),e.height!=(q=l+"px")&&(e.height=q))},bO.hide=function(){return!this.removed&&(this.Group.style.display="none"),this},bO.show=function(){return!this.removed&&(this.Group.style.display="block"),this},bO.getBBox=function(){return this.removed?this:ca[f](this.type)?bn(this.attrs.path):{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}},bO.remove=function(){if(this.removed)return;bA(this,this.paper),this.node.parentNode.removeChild(this.node),this.Group.parentNode.removeChild(this.Group),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var a in this)delete this[a];this.removed=!0},bO.attr=function(b,c){if(this.removed)return this;if(b==null){var d={};for(var e in this.attrs)this.attrs[f](e)&&(d[e]=this.attrs[e]);return this._.rt.deg&&(d.rotation=this.rotate()),(this._.sx!=1||this._.sy!=1)&&(d.scale=this.scale()),d.gradient&&d.fill=="none"&&(d.fill=d.gradient)&&delete d.gradient,d}if(c==null&&a.is(b,"string"))return b=="translation"?cA.call(this):b=="rotation"?this.rotate():b=="scale"?this.scale():b==I&&this.attrs.fill=="none"&&this.attrs.gradient?this.attrs.gradient:this.attrs[b];if(this.attrs&&c==null&&a.is(b,G)){var g,h={};for(e=0,g=b[w];e<g;e++)h[b[e]]=this.attr(b[e]);return h}var i;c!=null&&(i={},i[b]=c),c==null&&a.is(b,"object")&&(i=b);if(i){for(var j in this.paper.customAttributes)if(this.paper.customAttributes[f](j)&&i[f](j)&&a.is(this.paper.customAttributes[j],"function")){var k=this.paper.customAttributes[j].apply(this,[][n](i[j]));this.attrs[j]=i[j];for(var l in k)k[f](l)&&(i[l]=k[l])}i.text&&this.type=="text"&&(this.node.string=i.text),bK(this,i),i.gradient&&({circle:1,ellipse:1}[f](this.type)||r(i.gradient).charAt()!="r")&&bI(this,i.gradient),(!ca[f](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this},bO.toFront=function(){return!this.removed&&this.Group.parentNode[l](this.Group),this.paper.top!=this&&bB(this,this.paper),this},bO.toBack=function(){return this.removed?this:(this.Group.parentNode.firstChild!=this.Group&&(this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild),bC(this,this.paper)),this)},bO.insertAfter=function(a){return this.removed?this:(a.constructor==cD&&(a=a[a.length-1]),a.Group.nextSibling?a.Group.parentNode.insertBefore(this.Group,a.Group.nextSibling):a.Group.parentNode[l](this.Group),bD(this,a,this.paper),this)},bO.insertBefore=function(a){return this.removed?this:(a.constructor==cD&&(a=a[0]),a.Group.parentNode.insertBefore(this.Group,a.Group),bE(this,a,this.paper),this)},bO.blur=function(b){var c=this.node.runtimeStyle,d=c.filter;d=d.replace(bY,p),+b!==0?(this.attrs.blur=b,c.filter=d+q+U+".Blur(pixelradius="+(+b||1.5)+")",c.margin=a.format("-{0}px 0 0 -{0}px",Q(+b||1.5))):(c.filter=d,c.margin=0,delete this.attrs.blur)},bP=function(a,b,c,d){var e=cd("group"),f=cd("oval"),g=f.style;e.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px",e.coordsize=b$,e.coordorigin=a.coordorigin,e[l](f);var h=new bN(f,e,a);return h.type="circle",bK(h,{stroke:"#000",fill:"none"}),h.attrs.cx=b,h.attrs.cy=c,h.attrs.r=d,h.setBox({x:b-d,y:c-d,width:d*2,height:d*2}),a.canvas[l](e),h};function cc(b,c,d,e,f){return f?a.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",b+f,c,d-f*2,f,-f,e-f*2,f*2-d,f*2-e):a.format("M{0},{1}l{2},0,0,{3},{4},0z",b,c,d,e,-d)}bQ=function(a,b,c,d,e,f){var g=cc(b,c,d,e,f),h=a.path(g),i=h.attrs;return h.X=i.x=b,h.Y=i.y=c,h.W=i.width=d,h.H=i.height=e,i.r=f,i.path=g,h.type="rect",h},bR=function(a,b,c,d,e){var f=cd("group"),g=cd("oval"),h=g.style;f.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px",f.coordsize=b$,f.coordorigin=a.coordorigin,f[l](g);var i=new bN(g,f,a);return i.type="ellipse",bK(i,{stroke:"#000"}),i.attrs.cx=b,i.attrs.cy=c,i.attrs.rx=d,i.attrs.ry=e,i.setBox({x:b-d,y:c-e,width:d*2,height:e*2}),a.canvas[l](f),i},bS=function(a,b,c,d,e,f){var g=cd("group"),h=cd("image");g.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px",g.coordsize=b$,g.coordorigin=a.coordorigin,h.src=b,g[l](h);var i=new bN(h,g,a);return i.type="image",i.attrs.src=b,i.attrs.x=c,i.attrs.y=d,i.attrs.w=e,i.attrs.h=f,i.setBox({x:c,y:d,width:e,height:f}),a.canvas[l](g),i},bT=function(b,c,d,e){var f=cd("group"),g=cd("shape"),h=g.style,i=cd("path"),j=i.style,k=cd("textpath");f.style.cssText="position:absolute;left:0;top:0;width:"+b.width+"px;height:"+b.height+"px",f.coordsize=b$,f.coordorigin=b.coordorigin,i.v=a.format("m{0},{1}l{2},{1}",Q(c*10),Q(d*10),Q(c*10)+1),i.textpathok=!0,h.width=b.width,h.height=b.height,k.string=r(e),k.on=!0,g[l](k),g[l](i),f[l](g);var m=new bN(k,f,b);return m.shape=g,m.textpath=i,m.type="text",m.attrs.text=e,m.attrs.x=c,m.attrs.y=d,m.attrs.w=1,m.attrs.h=1,bK(m,{font:W.font,stroke:"none",fill:"#000"}),m.setBox(),b.canvas[l](f),m},bU=function(a,b){var c=this.canvas.style;return a==+a&&(a+="px"),b==+b&&(b+="px"),c.width=a,c.height=b,c.clip="rect(0 "+a+" "+b+" 0)",this};var cd;g.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!g.namespaces.rvml&&g.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),cd=function(a){return g.createElement("<rvml:"+a+' class="rvml">')}}catch(ce){cd=function(a){return g.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}bV=function(){var b=by[m](0,arguments),c=b.container,d=b.height,e,f=b.width,h=b.x,i=b.y;if(!c)throw new Error("VML container not found.");var k=new j,n=k.canvas=g.createElement("div"),o=n.style;return h=h||0,i=i||0,f=f||512,d=d||342,f==+f&&(f+="px"),d==+d&&(d+="px"),k.width=1e3,k.height=1e3,k.coordsize=b_*1e3+q+b_*1e3,k.coordorigin="0 0",k.span=g.createElement("span"),k.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",n[l](k.span),o.cssText=a.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",f,d),c==1?(g.body[l](n),o.left=h+"px",o.top=i+"px",o.position="absolute"):c.firstChild?c.insertBefore(n,c.firstChild):c[l](n),bz.call(k,k,a.fn),k},k.clear=function(){this.canvas.innerHTML=p,this.span=g.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas[l](this.span),this.bottom=this.top=null},k.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=bF(a);return!0}}var cf=navigator.userAgent.match(/Version\/(.*?)\s/);navigator.vendor=="Apple Computer, Inc."&&(cf&&cf[1]<4||navigator.platform.slice(0,2)=="iP")?k.safari=function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});h.setTimeout(function(){a.remove()})}:k.safari=function(){};var cg=function(){this.returnValue=!1},ch=function(){return this.originalEvent.preventDefault()},ci=function(){this.cancelBubble=!0},cj=function(){return this.originalEvent.stopPropagation()},ck=function(){if(g.addEventListener)return function(a,b,c,d){var e=o&&u[b]?u[b]:b,g=function(e){if(o&&u[f](b))for(var g=0,h=e.targetTouches&&e.targetTouches.length;g<h;g++)if(e.targetTouches[g].target==a){var i=e;e=e.targetTouches[g],e.originalEvent=i,e.preventDefault=ch,e.stopPropagation=cj;break}return c.call(d,e)};return a.addEventListener(e,g,!1),function(){return a.removeEventListener(e,g,!1),!0}};if(g.attachEvent)return function(a,b,c,d){var e=function(a){return a=a||h.event,a.preventDefault=a.preventDefault||cg,a.stopPropagation=a.stopPropagation||ci,c.call(d,a)};a.attachEvent("on"+b,e);var f=function(){return a.detachEvent("on"+b,e),!0};return f}}(),cl=[],cm=function(a){var b=a.clientX,c=a.clientY,d=g.documentElement.scrollTop||g.body.scrollTop,e=g.documentElement.scrollLeft||g.body.scrollLeft,f,h=cl.length;while(h--){f=cl[h];if(o){var i=a.touches.length,j;while(i--){j=a.touches[i];if(j.identifier==f.el._drag.id){b=j.clientX,c=j.clientY,(a.originalEvent?a.originalEvent:a).preventDefault();break}}}else a.preventDefault();b+=e,c+=d,f.move&&f.move.call(f.move_scope||f.el,b-f.el._drag.x,c-f.el._drag.y,b,c,a)}},cn=function(b){a.unmousemove(cm).unmouseup(cn);var c=cl.length,d;while(c--)d=cl[c],d.el._drag={},d.end&&d.end.call(d.end_scope||d.start_scope||d.move_scope||d.el,b);cl=[]};for(var co=t[w];co--;)(function(b){a[b]=bN[e][b]=function(c,d){return a.is(c,"function")&&(this.events=this.events||[],this.events.push({name:b,f:c,unbind:ck(this.shape||this.node||g,b,c,d||this)})),this},a["un"+b]=bN[e]["un"+b]=function(a){var c=this.events,d=c[w];while(d--)if(c[d].name==b&&c[d].f==a)return c[d].unbind(),c.splice(d,1),!c.length&&delete this.events,this;return this}})(t[co]);bO.hover=function(a,b,c,d){return this.mouseover(a,c).mouseout(b,d||c)},bO.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)},bO.drag=function(b,c,d,e,f,h){return this._drag={},this.mousedown(function(i){(i.originalEvent||i).preventDefault();var j=g.documentElement.scrollTop||g.body.scrollTop,k=g.documentElement.scrollLeft||g.body.scrollLeft;this._drag.x=i.clientX+k,this._drag.y=i.clientY+j,this._drag.id=i.identifier,c&&c.call(f||e||this,i.clientX+k,i.clientY+j,i),!cl.length&&a.mousemove(cm).mouseup(cn),cl.push({el:this,move:b,end:d,move_scope:e,start_scope:f,end_scope:h})}),this},bO.undrag=function(b,c,d){var e=cl.length;while(e--)cl[e].el==this&&cl[e].move==b&&cl[e].end==d&&cl.splice(e++,1);!cl.length&&a.unmousemove(cm).unmouseup(cn)},k.circle=function(a,b,c){return bP(this,a||0,b||0,c||0)},k.rect=function(a,b,c,d,e){return bQ(this,a||0,b||0,c||0,d||0,e||0)},k.ellipse=function(a,b,c,d){return bR(this,a||0,b||0,c||0,d||0)},k.path=function(b){return b&&!a.is(b,F)&&!a.is(b[0],G)&&(b+=p),bH(a.format[m](a,arguments),this)},k.image=function(a,b,c,d,e){return bS(this,a||"about:blank",b||0,c||0,d||0,e||0)},k.text=function(a,b,c){return bT(this,a||0,b||0,r(c))},k.set=function(a){return arguments[w]>1&&(a=Array[e].splice.call(arguments,0,arguments[w])),new cD(a)},k.setSize=bU,k.top=k.bottom=null,k.raphael=a,bO.resetScale=function(){if(this.removed)return this;this._.sx=1,this._.sy=1,this.attrs.scale="1 1"},bO.scale=function(a,b,c,d){if(this.removed)return this;if(a==null&&b==null)return{x:this._.sx,y:this._.sy,toString:cp};b=b||a,!+b&&(b=a);var e,f,g,h,i=this.attrs;if(a!=0){var j=this.getBBox(),k=j.x+j.width/2,l=j.y+j.height/2,m=B(a/this._.sx),o=B(b/this._.sy);c=+c||c==0?c:k,d=+d||d==0?d:l;var r=this._.sx>0,s=this._.sy>0,t=~~(a/B(a)),u=~~(b/B(b)),x=m*t,y=o*u,z=this.node.style,A=c+B(k-c)*x*(k>c==r?1:-1),C=d+B(l-d)*y*(l>d==s?1:-1),D=a*t>b*u?o:m;switch(this.type){case"rect":case"image":var E=i.width*m,F=i.height*o;this.attr({height:F,r:i.r*D,width:E,x:A-E/2,y:C-F/2});break;case"circle":case"ellipse":this.attr({rx:i.rx*m,ry:i.ry*o,r:i.r*D,cx:A,cy:C});break;case"text":this.attr({x:A,y:C});break;case"path":var G=bp(i.path),H=!0,I=r?x:m,J=s?y:o;for(var K=0,L=G[w];K<L;K++){var M=G[K],N=V.call(M[0]);if(N=="M"&&H)continue;H=!1;if(N=="A")M[G[K][w]-2]*=I,M[G[K][w]-1]*=J,M[1]*=m,M[2]*=o,M[5]=+(t+u?!!+M[5]:!+M[5]);else if(N=="H")for(var O=1,P=M[w];O<P;O++)M[O]*=I;else if(N=="V")for(O=1,P=M[w];O<P;O++)M[O]*=J;else for(O=1,P=M[w];O<P;O++)M[O]*=O%2?I:J}var Q=bn(G);e=A-Q.x-Q.width/2,f=C-Q.y-Q.height/2,G[0][1]+=e,G[0][2]+=f,this.attr({path:G})}this.type in{text:1,image:1}&&(t!=1||u!=1)?this.transformations?(this.transformations[2]="scale("[n](t,",",u,")"),this.node[R]("transform",this.transformations[v](q)),e=t==-1?-i.x-(E||0):i.x,f=u==-1?-i.y-(F||0):i.y,this.attr({x:e,y:f}),i.fx=t-1,i.fy=u-1):(this.node.filterMatrix=U+".Matrix(M11="[n](t,", M12=0, M21=0, M22=",u,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')"),z.filter=(this.node.filterMatrix||p)+(this.node.filterOpacity||p)):this.transformations?(this.transformations[2]=p,this.node[R]("transform",this.transformations[v](q)),i.fx=0,i.fy=0):(this.node.filterMatrix=p,z.filter=(this.node.filterMatrix||p)+(this.node.filterOpacity||p)),i.scale=[a,b,c,d][v](q),this._.sx=a,this._.sy=b}return this},bO.clone=function(){if(this.removed)return null;var a=this.attr();return delete a.scale,delete a.translation,this.paper[this.type]().attr(a)};var cq={},cr=function(b,c,d,e,f,g,h,i,j){var k=0,l=100,m=[b,c,d,e,f,g,h,i].join(),n=cq[m],o,p;!n&&(cq[m]=n={data:[]}),n.timer&&clearTimeout(n.timer),n.timer=setTimeout(function(){delete cq[m]},2e3);if(j!=null){var q=cr(b,c,d,e,f,g,h,i);l=~~q*10}for(var r=0;r<l+1;r++){n.data[j]>r?p=n.data[r*l]:(p=a.findDotsAtSegment(b,c,d,e,f,g,h,i,r/l),n.data[r]=p),r&&(k+=C(C(o.x-p.x,2)+C(o.y-p.y,2),.5));if(j!=null&&k>=j)return p;o=p}if(j==null)return k},cs=function(b,c){return function(d,e,f){d=bw(d);var g,h,i,j,k="",l={},m,n=0;for(var o=0,p=d.length;o<p;o++){i=d[o];if(i[0]=="M")g=+i[1],h=+i[2];else{j=cr(g,h,i[1],i[2],i[3],i[4],i[5],i[6]);if(n+j>e){if(c&&!l.start){m=cr(g,h,i[1],i[2],i[3],i[4],i[5],i[6],e-n),k+=["C",m.start.x,m.start.y,m.m.x,m.m.y,m.x,m.y];if(f)return k;l.start=k,k=["M",m.x,m.y+"C",m.n.x,m.n.y,m.end.x,m.end.y,i[5],i[6]][v](),n+=j,g=+i[5],h=+i[6];continue}if(!b&&!c)return m=cr(g,h,i[1],i[2],i[3],i[4],i[5],i[6],e-n),{x:m.x,y:m.y,alpha:m.alpha}}n+=j,g=+i[5],h=+i[6]}k+=i}return l.end=k,m=b?n:c?l:a.findDotsAtSegment(g,h,i[1],i[2],i[3],i[4],i[5],i[6],1),m.alpha&&(m={x:m.x,y:m.y,alpha:m.alpha}),m}},ct=cs(1),cu=cs(),cv=cs(0,1);bO.getTotalLength=function(){if(this.type!="path")return;return this.node.getTotalLength?this.node.getTotalLength():ct(this.attrs.path)},bO.getPointAtLength=function(a){if(this.type!="path")return;return cu(this.attrs.path,a)},bO.getSubpath=function(a,b){if(this.type!="path")return;if(B(this.getTotalLength()-b)<"1e-6")return cv(this.attrs.path,a).end;var c=cv(this.attrs.path,b,1);return a?cv(c,a).end:c},a.easing_formulas={linear:function(a){return a},"<":function(a){return C(a,3)},">":function(a){return C(a-1,3)+1},"<>":function(a){return a*=2,a<1?C(a,3)/2:(a-=2,(C(a,3)+2)/2)},backIn:function(a){var b=1.70158;return a*a*((b+1)*a-b)},backOut:function(a){a-=1;var b=1.70158;return a*a*((b+1)*a+b)+1},elastic:function(a){if(a==0||a==1)return a;var b=.3,c=b/4;return C(2,-10*a)*y.sin((a-c)*2*D/b)+1},bounce:function(a){var b=7.5625,c=2.75,d;return a<1/c?d=b*a*a:a<2/c?(a-=1.5/c,d=b*a*a+.75):a<2.5/c?(a-=2.25/c,d=b*a*a+.9375):(a-=2.625/c,d=b*a*a+.984375),d}};var cw=[],cx=function(){var b=+(new Date);for(var c=0;c<cw[w];c++){var d=cw[c];if(d.stop||d.el.removed)continue;var e=b-d.start,g=d.ms,h=d.easing,i=d.from,j=d.diff,k=d.to,l=d.t,m=d.el,n={},o;if(e<g){var r=h(e/g);for(var s in i)if(i[f](s)){switch(X[s]){case"along":o=r*g*j[s],k.back&&(o=k.len-o);var t=cu(k[s],o);m.translate(j.sx-j.x||0,j.sy-j.y||0),j.x=t.x,j.y=t.y,m.translate(t.x-j.sx,t.y-j.sy),k.rot&&m.rotate(j.r+t.alpha,t.x,t.y);break;case E:o=+i[s]+r*g*j[s];break;case"colour":o="rgb("+[cz(Q(i[s].r+r*g*j[s].r)),cz(Q(i[s].g+r*g*j[s].g)),cz(Q(i[s].b+r*g*j[s].b))][v](",")+")";break;case"path":o=[];for(var u=0,x=i[s][w];u<x;u++){o[u]=[i[s][u][0]];for(var y=1,z=i[s][u][w];y<z;y++)o[u][y]=+i[s][u][y]+r*g*j[s][u][y];o[u]=o[u][v](q)}o=o[v](q);break;case"csv":switch(s){case"translation":var A=r*g*j[s][0]-l.x,B=r*g*j[s][1]-l.y;l.x+=A,l.y+=B,o=A+q+B;break;case"rotation":o=+i[s][0]+r*g*j[s][0],i[s][1]&&(o+=","+i[s][1]+","+i[s][2]);break;case"scale":o=[+i[s][0]+r*g*j[s][0],+i[s][1]+r*g*j[s][1],2 in k[s]?k[s][2]:p,3 in k[s]?k[s][3]:p][v](q);break;case"clip-rect":o=[],u=4;while(u--)o[u]=+i[s][u]+r*g*j[s][u]}break;default:var C=[].concat(i[s]);o=[],u=m.paper.customAttributes[s].length;while(u--)o[u]=+C[u]+r*g*j[s][u]}n[s]=o}m.attr(n),m._run&&m._run.call(m)}else k.along&&(t=cu(k.along,k.len*!k.back),m.translate(j.sx-(j.x||0)+t.x-j.sx,j.sy-(j.y||0)+t.y-j.sy),k.rot&&m.rotate(j.r+t.alpha,t.x,t.y)),(l.x||l.y)&&m.translate(-l.x,-l.y),k.scale&&(k.scale+=p),m.attr(k),cw.splice(c--,1)}a.svg&&m&&m.paper&&m.paper.safari(),cw[w]&&setTimeout(cx)},cy=function(b,c,d,e,f){var g=d-e;c.timeouts.push(setTimeout(function(){a.is(f,"function")&&f.call(c),c.animate(b,g,b.easing)},e))},cz=function(a){return z(A(a,255),0)},cA=function(a,b){if(a==null)return{x:this._.tx,y:this._.ty,toString:cp};this._.tx+=+a,this._.ty+=+b;switch(this.type){case"circle":case"ellipse":this.attr({cx:+a+this.attrs.cx,cy:+b+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+a+this.attrs.x,y:+b+this.attrs.y});break;case"path":var c=bp(this.attrs.path);c[0][1]+=+a,c[0][2]+=+b,this.attr({path:c})}return this};bO.animateWith=function(a,b,c,d,e){for(var f=0,g=cw.length;f<g;f++)cw[f].el.id==a.id&&(b.start=cw[f].start);return this.animate(b,c,d,e)},bO.animateAlong=cB(),bO.animateAlongBack=cB(1),bO.onAnimation=function(a){return this._run=a||0,this},bO.animate=function(c,d,e,g){var h=this;h.timeouts=h.timeouts||[];if(a.is(e,"function")||!e)g=e||null;if(h.removed)return g&&g.call(h),h;var i={},j={},k=!1,l={};for(var m in c)if(c[f](m))if(X[f](m)||h.paper.customAttributes[f](m)){k=!0,i[m]=h.attr(m),i[m]==null&&(i[m]=W[m]),j[m]=c[m];switch(X[m]){case"along":var n=ct(c[m]),o=cu(c[m],n*!!c.back),p=h.getBBox();l[m]=n/d,l.tx=p.x,l.ty=p.y,l.sx=o.x,l.sy=o.y,j.rot=c.rot,j.back=c.back,j.len=n,c.rot&&(l.r=S(h.rotate())||0);break;case E:l[m]=(j[m]-i[m])/d;break;case"colour":i[m]=a.getRGB(i[m]);var q=a.getRGB(j[m]);l[m]={r:(q.r-i[m].r)/d,g:(q.g-i[m].g)/d,b:(q.b-i[m].b)/d};break;case"path":var t=bw(i[m],j[m]);i[m]=t[0];var u=t[1];l[m]=[];for(var v=0,x=i[m][w];v<x;v++){l[m][v]=[0];for(var y=1,z=i[m][v][w];y<z;y++)l[m][v][y]=(u[v][y]-i[m][v][y])/d}break;case"csv":var A=r(c[m])[s](b),B=r(i[m])[s](b);switch(m){case"translation":i[m]=[0,0],l[m]=[A[0]/d,A[1]/d];break;case"rotation":i[m]=B[1]==A[1]&&B[2]==A[2]?B:[0,A[1],A[2]],l[m]=[(A[0]-i[m][0])/d,0,0];break;case"scale":c[m]=A,i[m]=r(i[m])[s](b),l[m]=[(A[0]-i[m][0])/d,(A[1]-i[m][1])/d,0,0];break;case"clip-rect":i[m]=r(i[m])[s](b),l[m]=[],v=4;while(v--)l[m][v]=(A[v]-i[m][v])/d}j[m]=A;break;default:A=[].concat(c[m]),B=[].concat(i[m]),l[m]=[],v=h.paper.customAttributes[m][w];while(v--)l[m][v]=((A[v]||0)-(B[v]||0))/d}}if(!k){var C=[],D;for(var F in c)c[f](F)&&Z.test(F)&&(m={value:c[F]},F=="from"&&(F=0),F=="to"&&(F=100),m.key=T(F,10),C.push(m));C.sort(be),C[0].key&&C.unshift({key:0,value:h.attrs});for(v=0,x=C[w];v<x;v++)cy(C[v].value,h,d/100*C[v].key,d/100*(C[v-1]&&C[v-1].key||0),C[v-1]&&C[v-1].value.callback);D=C[C[w]-1].value.callback,D&&h.timeouts.push(setTimeout(function(){D.call(h)},d))}else{var G=a.easing_formulas[e];if(!G){G=r(e).match(P);if(G&&G[w]==5){var H=G;G=function(a){return cC(a,+H[1],+H[2],+H[3],+H[4],d)}}else G=function(a){return a}}cw.push({start:c.start||+(new Date),ms:d,easing:G,from:i,diff:l,to:j,el:h,t:{x:0,y:0}}),a.is(g,"function")&&(h._ac=setTimeout(function(){g.call(h)},d)),cw[w]==1&&setTimeout(cx)}return this},bO.stop=function(){for(var a=0;a<cw.length;a++)cw[a].el.id==this.id&&cw.splice(a--,1);for(a=0,ii=this.timeouts&&this.timeouts.length;a<ii;a++)clearTimeout(this.timeouts[a]);return this.timeouts=[],clearTimeout(this._ac),delete this._ac,this},bO.translate=function(a,b){return this.attr({translation:a+" "+b})},bO[H]=function(){return"Raphaël’s object"},a.ae=cw;var cD=function(a){this.items=[],this[w]=0,this.type="set";if(a)for(var b=0,c=a[w];b<c;b++)a[b]&&(a[b].constructor==bN||a[b].constructor==cD)&&(this[this.items[w]]=this.items[this.items[w]]=a[b],this[w]++)};cD[e][L]=function(){var a,b;for(var c=0,d=arguments[w];c<d;c++)a=arguments[c],a&&(a.constructor==bN||a.constructor==cD)&&(b=this.items[w],this[b]=this.items[b]=a,this[w]++);return this},cD[e].pop=function(){return delete this[this[w]--],this.items.pop()};for(var cE in bO)bO[f](cE)&&(cD[e][cE]=function(a){return function(){for(var b=0,c=this.items[w];b<c;b++)this.items[b][a][m](this.items[b],arguments);return this}}(cE));cD[e].attr=function(b,c){if(b&&a.is(b,G)&&a.is(b[0],"object"))for(var d=0,e=b[w];d<e;d++)this.items[d].attr(b[d]);else for(var f=0,g=this.items[w];f<g;f++)this.items[f].attr(b,c);return this},cD[e].animate=function(b,c,d,e){(a.is(d,"function")||!d)&&(e=d||null);var f=this.items[w],g=f,h,i=this,j;e&&(j=function(){!--f&&e.call(i)}),d=a.is(d,F)?d:j,h=this.items[--g].animate(b,c,d,j);while(g--)this.items[g]&&!this.items[g].removed&&this.items[g].animateWith(h,b,c,d,j);return this},cD[e].insertAfter=function(a){var b=this.items[w];while(b--)this.items[b].insertAfter(a);return this},cD[e].getBBox=function(){var a=[],b=[],c=[],d=[];for(var e=this.items[w];e--;){var f=this.items[e].getBBox();a[L](f.x),b[L](f.y),c[L](f.x+f.width),d[L](f.y+f.height)}return a=A[m](0,a),b=A[m](0,b),{x:a,y:b,width:z[m](0,c)-a,height:z[m](0,d)-b}},cD[e].clone=function(a){a=new cD;for(var b=0,c=this.items[w];b<c;b++)a[L](this.items[b].clone());return a},a.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},c=a.face["font-family"];for(var d in a.face)a.face[f](d)&&(b.face[d]=a.face[d]);this.fonts[c]?this.fonts[c][L](b):this.fonts[c]=[b];if(!a.svg){b.face["units-per-em"]=T(a.face["units-per-em"],10);for(var e in a.glyphs)if(a.glyphs[f](e)){var g=a.glyphs[e];b.glyphs[e]={w:g.w,k:{},d:g.d&&"M"+g.d[Y](/[mlcxtrv]/g,function(a){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[a]||"M"})+"z"};if(g.k)for(var h in g.k)g[f](h)&&(b.glyphs[e].k[h]=g.k[h])}}return a},k.getFont=function(b,c,d,e){e=e||"normal",d=d||"normal",c=+c||{normal:400,bold:700,lighter:300,bolder:800}[c]||400;if(!a.fonts)return;var g=a.fonts[b];if(!g){var h=new RegExp("(^|\\s)"+b[Y](/[^\w\d\s+!~.:_-]/g,p)+"(\\s|$)","i");for(var i in a.fonts)if(a.fonts[f](i)&&h.test(i)){g=a.fonts[i];break}}var j;if(g)for(var k=0,l=g[w];k<l;k++){j=g[k];if(j.face["font-weight"]==c&&(j.face["font-style"]==d||!j.face["font-style"])&&j.face["font-stretch"]==e)break}return j},k.print=function(c,d,e,f,g,h,i){h=h||"middle",i=z(A(i||0,1),-1);var j=this.set(),k=r(e)[s](p),l=0,m=p,n;a.is(f,e)&&(f=this.getFont(f));if(f){n=(g||16)/f.face["units-per-em"];var o=f.face.bbox.split(b),q=+o[0],t=+o[1]+(h=="baseline"?o[3]-o[1]+ +f.face.descent:(o[3]-o[1])/2);for(var u=0,v=k[w];u<v;u++){var x=u&&f.glyphs[k[u-1]]||{},y=f.glyphs[k[u]];l+=u?(x.w||f.w)+(x.k&&x.k[k[u]]||0)+f.w*i:0,y&&y.d&&j[L](this.path(y.d).attr({fill:"#000",stroke:"none",translation:[l,0]}))}j.scale(n,n,q,t).translate(c-q,d-t)}return j},a.format=function(b,c){var e=a.is(c,G)?[0][n](c):arguments;return b&&a.is(b,F)&&e[w]-1&&(b=b[Y](d,function(a,b){return e[++b]==null?p:e[b]})),b||p},a.ninja=function(){return i.was?h.Raphael=i.is:delete Raphael,a},a.el=bO,a.st=cD[e],i.was?h.Raphael=a:Raphael=a})(),function(){var a=Math.max,b=Math.min;Raphael.fn.g=Raphael.fn.g||{},Raphael.fn.g.markers={disc:"disc",o:"disc",flower:"flower",f:"flower",diamond:"diamond",d:"diamond",square:"square",s:"square",triangle:"triangle",t:"triangle",star:"star","*":"star",cross:"cross",x:"cross",plus:"plus","+":"plus",arrow:"arrow","->":"arrow"},Raphael.fn.g.shim={stroke:"none",fill:"#000","fill-opacity":0},Raphael.fn.g.txtattr={font:"12px Arial, sans-serif"},Raphael.fn.g.colors=[];var c=[.6,.2,.05,.1333,.75,0];for(var e=0;e<10;e++)e<c.length?Raphael.fn.g.colors.push("hsb("+c[e]+", .75, .75)"):Raphael.fn.g.colors.push("hsb("+c[e-c.length]+", 1, .5)");Raphael.fn.g.text=function(a,b,c){return this.text(a,b,c).attr(this.g.txtattr)},Raphael.fn.g.labelise=function(a,b,c){return a?(a+"").replace(/(##+(?:\.#+)?)|(%%+(?:\.%+)?)/g,function(a,d,e){if(d)return(+b).toFixed(d.replace(/^#+\.?/g,"").length);if(e)return(b*100/c).toFixed(e.replace(/^%+\.?/g,"").length)+"%"}):(+b).toFixed(0)},Raphael.fn.g.finger=function(c,d,e,f,g,h,i){if(g&&!f||!g&&!e)return i?"":this.path();h={square:"square",sharp:"sharp",soft:"soft"}[h]||"round";var j;f=Math.round(f),e=Math.round(e),c=Math.round(c),d=Math.round(d);switch(h){case"round":if(!g){var k=~~(f/2);e<k?(k=e,j=["M",c+.5,d+.5-~~(f/2),"l",0,0,"a",k,~~(f/2),0,0,1,0,f,"l",0,0,"z"]):j=["M",c+.5,d+.5-k,"l",e-k,0,"a",k,k,0,1,1,0,f,"l",k-e,0,"z"]}else k=~~(e/2),f<k?(k=f,j=["M",c-~~(e/2),d,"l",0,0,"a",~~(e/2),k,0,0,1,e,0,"l",0,0,"z"]):j=["M",c-k,d,"l",0,k-f,"a",k,k,0,1,1,e,0,"l",0,f-k,"z"];break;case"sharp":if(!g){var l=~~(f/2);j=["M",c,d+l,"l",0,-f,a(e-l,0),0,b(l,e),l,-b(l,e),l+(l*2<f),"z"]}else l=~~(e/2),j=["M",c+l,d,"l",-e,0,0,-a(f-l,0),l,-b(l,f),l,b(l,f),l,"z"];break;case"square":g?j=["M",c+~~(e/2),d,"l",1-e,0,0,-f,e-1,0,"z"]:j=["M",c,d+~~(f/2),"l",0,-f,e,0,0,f,"z"];break;case"soft":g?(k=b(Math.round(e/5),f),j=["M",c-~~(e/2),d,"l",0,k-f,"a",k,k,0,0,1,k,-k,"l",e-2*k,0,"a",k,k,0,0,1,k,k,"l",0,f-k,"z"]):(k=b(e,Math.round(f/5)),j=["M",c+.5,d+.5-~~(f/2),"l",e-k,0,"a",k,k,0,0,1,k,k,"l",0,f-k*2,"a",k,k,0,0,1,-k,k,"l",k-e,0,"z"])}return i?j.join(","):this.path(j)},Raphael.fn.g.disc=function(a,b,c){return this.circle(a,b,c)},Raphael.fn.g.line=function(a,b,c){return this.rect(a-c,b-c/5,2*c,2*c/5)},Raphael.fn.g.square=function(a,b,c){return c*=.7,this.rect(a-c,b-c,2*c,2*c)},Raphael.fn.g.triangle=function(a,b,c){return c*=1.75,this.path("M".concat(a,",",b,"m0-",c*.58,"l",c*.5,",",c*.87,"-",c,",0z"))},Raphael.fn.g.diamond=function(a,b,c){return this.path(["M",a,b-c,"l",c,c,-c,c,-c,-c,c,-c,"z"])},Raphael.fn.g.flower=function(a,b,c,d){c*=1.25;var e=c,f=e*.5;d=+d<3||!d?5:d;var g=["M",a,b+f,"Q"],h;for(var i=1;i<d*2+1;i++)h=i%2?e:f,g=g.concat([+(a+h*Math.sin(i*Math.PI/d)).toFixed(3),+(b+h*Math.cos(i*Math.PI/d)).toFixed(3)]);return g.push("z"),this.path(g.join(","))},Raphael.fn.g.star=function(a,b,c,d,e){d=d||c*.382,e=e||5;var f=["M",a,b+d,"L"],g;for(var h=1;h<e*2;h++)g=h%2?c:d,f=f.concat([a+g*Math.sin(h*Math.PI/e),b+g*Math.cos(h*Math.PI/e)]);return f.push("z"),this.path(f.join(","))},Raphael.fn.g.cross=function(a,b,c){return c/=2.5,this.path("M".concat(a-c,",",b,"l",[-c,-c,c,-c,c,c,c,-c,c,c,-c,c,c,c,-c,c,-c,-c,-c,c,-c,-c,"z"]))},Raphael.fn.g.plus=function(a,b,c){return c/=2,this.path("M".concat(a-c/2,",",b-c/2,"l",[0,-c,c,0,0,c,c,0,0,c,-c,0,0,c,-c,0,0,-c,-c,0,0,-c,"z"]))},Raphael.fn.g.arrow=function(a,b,c){return this.path("M".concat(a-c*.7,",",b-c*.4,"l",[c*.6,0,0,-c*.4,c,c*.8,-c,c*.8,0,-c*.4,-c*.6,0],"z"))},Raphael.fn.g.tag=function(a,b,c,d,e){d=d||0,e=e==null?5:e,c=c==null?"$9.99":c;var f=.5522*e,g=this.set(),h=3;return g.push(this.path().attr({fill:"#000",stroke:"#000"})),g.push(this.text(a,b,c).attr(this.g.txtattr).attr({fill:"#fff","font-family":"Helvetica, Arial"})),g.update=function(){this.rotate(0,a,b);var c=this[1].getBBox();if(c.height>=e*2)this[0].attr({path:["M",a,b+e,"a",e,e,0,1,1,0,-e*2,e,e,0,1,1,0,e*2,"m",0,-e*2-h,"a",e+h,e+h,0,1,0,0,(e+h)*2,"L",a+e+h,b+c.height/2+h,"l",c.width+2*h,0,0,-c.height-2*h,-c.width-2*h,0,"L",a,b-e-h].join(",")});else{var g=Math.sqrt(Math.pow(e+h,2)-Math.pow(c.height/2+h,2));this[0].attr({path:["M",a,b+e,"c",-f,0,-e,f-e,-e,-e,0,-f,e-f,-e,e,-e,f,0,e,e-f,e,e,0,f,f-e,e,-e,e,"M",a+g,b-c.height/2-h,"a",e+h,e+h,0,1,0,0,c.height+2*h,"l",e+h-g+c.width+2*h,0,0,-c.height-2*h,"L",a+g,b-c.height/2-h].join(",")})}return this[1].attr({x:a+e+h+c.width/2,y:b}),d=(360-d)%360,this.rotate(d,a,b),d>90&&d<270&&this[1].attr({x:a-e-h-c.width/2,y:b,rotation:[180+d,a,b]}),this},g.update(),g},Raphael.fn.g.popupit=function(b,c,d,e,f){e=e==null?2:e,f=f||5,b=Math.round(b),c=Math.round(c);var g=d.getBBox(),h=Math.round(g.width/2),i=Math.round(g.height/2),j=[0,h+f*2,0,-h-f*2],k=[-i*2-f*3,-i-f,0,-i-f],l=["M",b-j[e],c-k[e],"l",-f,(e==2)*-f,-a(h-f,0),0,"a",f,f,0,0,1,-f,-f,"l",0,-a(i-f,0),(e==3)*-f,-f,(e==3)*f,-f,0,-a(i-f,0),"a",f,f,0,0,1,f,-f,"l",a(h-f,0),0,f,!e*-f,f,!e*f,a(h-f,0),0,"a",f,f,0,0,1,f,f,"l",0,a(i-f,0),(e==1)*f,f,(e==1)*-f,f,0,a(i-f,0),"a",f,f,0,0,1,-f,f,"l",-a(h-f,0),0,"z"].join(","),m=[{x:b,y:c+f*2+i},{x:b-f*2-h,y:c},{x:b,y:c-f*2-i},{x:b+f*2+h,y:c}][e];return d.translate(m.x-h-g.x,m.y-i-g.y),this.path(l).attr({fill:"#000",stroke:"none"}).insertBefore(d.node?d:d[0])},Raphael.fn.g.popup=function(b,c,d,e,f){e=e==null?2:e>3?3:e,f=f||5,d=d||"$9.99";var g=this.set(),h=3;return g.push(this.path().attr({fill:"#000",stroke:"#000"})),g.push(this.text(b,c,d).attr(this.g.txtattr).attr({fill:"#fff","font-family":"Helvetica, Arial"})),g.update=function(d,g,h){d=d||b,g=g||c;var i=this[1].getBBox(),j=i.width/2,k=i.height/2,l=[0,j+f*2,0,-j-f*2],m=[-k*2-f*3,-k-f,0,-k-f],n=["M",d-l[e],g-m[e],"l",-f,(e==2)*-f,-a(j-f,0),0,"a",f,f,0,0,1,-f,-f,"l",0,-a(k-f,0),(e==3)*-f,-f,(e==3)*f,-f,0,-a(k-f,0),"a",f,f,0,0,1,f,-f,"l",a(j-f,0),0,f,!e*-f,f,!e*f,a(j-f,0),0,"a",f,f,0,0,1,f,f,"l",0,a(k-f,0),(e==1)*f,f,(e==1)*-f,f,0,a(k-f,0),"a",f,f,0,0,1,-f,f,"l",-a(j-f,0),0,"z"].join(","),o=[{x:d,y:g+f*2+k},{x:d-f*2-j,y:g},{x:d,y:g-f*2-k},{x:d+f*2+j,y:g}][e];return o.path=n,h?this.animate(o,500,">"):this.attr(o),this},g.update(b,c)},Raphael.fn.g.flag=function(a,b,c,d){d=d||0,c=c||"$9.99";var e=this.set(),f=3;return e.push(this.path().attr({fill:"#000",stroke
:"#000"})),e.push(this.text(a,b,c).attr(this.g.txtattr).attr({fill:"#fff","font-family":"Helvetica, Arial"})),e.update=function(a,b){this.rotate(0,a,b);var c=this[1].getBBox(),e=c.height/2;return this[0].attr({path:["M",a,b,"l",e+f,-e-f,c.width+2*f,0,0,c.height+2*f,-c.width-2*f,0,"z"].join(",")}),this[1].attr({x:a+e+f+c.width/2,y:b}),d=360-d,this.rotate(d,a,b),d>90&&d<270&&this[1].attr({x:a-r-f-c.width/2,y:b,rotation:[180+d,a,b]}),this},e.update(a,b)},Raphael.fn.g.label=function(a,c,d){var e=this.set();return e.push(this.rect(a,c,10,10).attr({stroke:"none",fill:"#000"})),e.push(this.text(a,c,d).attr(this.g.txtattr).attr({fill:"#fff"})),e.update=function(){var a=this[1].getBBox(),c=b(a.width+10,a.height+10)/2;this[0].attr({x:a.x-c/2,y:a.y-c/2,width:a.width+c,height:a.height+c,r:c})},e.update(),e},Raphael.fn.g.labelit=function(a){var c=a.getBBox(),d=b(20,c.width+10,c.height+10)/2;return this.rect(c.x-d/2,c.y-d/2,c.width+d,c.height+d,d).attr({stroke:"none",fill:"#000"}).insertBefore(a.node?a:a[0])},Raphael.fn.g.drop=function(a,b,c,d,e){d=d||30,e=e||0;var f=this.set();return f.push(this.path(["M",a,b,"l",d,0,"A",d*.4,d*.4,0,1,0,a+d*.7,b-d*.7,"z"]).attr({fill:"#000",stroke:"none",rotation:[22.5-e,a,b]})),e=(e+90)*Math.PI/180,f.push(this.text(a+d*Math.sin(e),b+d*Math.cos(e),c).attr(this.g.txtattr).attr({"font-size":d*12/30,fill:"#fff"})),f.drop=f[0],f.text=f[1],f},Raphael.fn.g.blob=function(b,c,d,e,f){e=(+e+1?e:45)+90,f=f||12;var g=Math.PI/180,h=f*12/12,i=this.set();return i.push(this.path().attr({fill:"#000",stroke:"none"})),i.push(this.text(b+f*Math.sin(e*g),c+f*Math.cos(e*g)-h/2,d).attr(this.g.txtattr).attr({"font-size":h,fill:"#fff"})),i.update=function(d,i,j){d=d||b,i=i||c;var k=this[1].getBBox(),l=a(k.width+h,f*25/12),m=a(k.height+h,f*25/12),n=d+f*Math.sin((e-22.5)*g),o=i+f*Math.cos((e-22.5)*g),p=d+f*Math.sin((e+22.5)*g),q=i+f*Math.cos((e+22.5)*g),r=(p-n)/2,s=(q-o)/2,t=l/2,u=m/2,v=-Math.sqrt(Math.abs(t*t*u*u-t*t*s*s-u*u*r*r)/(t*t*s*s+u*u*r*r)),w=v*t*s/u+(p+n)/2,z=v*-u*r/t+(q+o)/2;return j?this.animate({x:w,y:z,path:["M",b,c,"L",p,q,"A",t,u,0,1,1,n,o,"z"].join(",")},500,">"):this.attr({x:w,y:z,path:["M",b,c,"L",p,q,"A",t,u,0,1,1,n,o,"z"].join(",")}),this},i.update(b,c),i},Raphael.fn.g.colorValue=function(a,c,d,e){return"hsb("+[b((1-a/c)*.4,1),d||.75,e||.75]+")"},Raphael.fn.g.snapEnds=function(a,b,c){function f(a){return Math.abs(a-.5)<.25?~~a+.5:Math.round(a)}var d=a,e=b;if(d==e)return{from:d,to:e,power:0};var g=(e-d)/c,h=~~g,i=h,j=0;if(h){while(i)j--,i=~~(g*Math.pow(10,j))/Math.pow(10,j);j++}else{while(!h)j=j||1,h=~~(g*Math.pow(10,j))/Math.pow(10,j),j++;j&&j--}return e=f(b*Math.pow(10,j))/Math.pow(10,j),e<b&&(e=f((b+.5)*Math.pow(10,j))/Math.pow(10,j)),d=f((a-(j>0?0:.5))*Math.pow(10,j))/Math.pow(10,j),{from:d,to:e,power:j}},Raphael.fn.g.axis=function(a,b,c,e,f,g,h,i,j,k){k=k==null?2:k,j=j||"t",g=g||10;var l=j=="|"||j==" "?["M",a+.5,b,"l",0,.001]:h==1||h==3?["M",a+.5,b,"l",0,-c]:["M",a,b+.5,"l",c,0],m=this.g.snapEnds(e,f,g),n=m.from,o=m.to,p=m.power,q=0,r=this.set();d=(o-n)/g;var s=n,t=p>0?p:0;x=c/g;if(+h==1||+h==3){var u=b,v=(h-1?1:-1)*(k+3+!!(h-1));while(u>=b-c)j!="-"&&j!=" "&&(l=l.concat(["M",a-(j=="+"||j=="|"?k:!(h-1)*k*2),u+.5,"l",k*2+1,0])),r.push(this.text(a+v,u,i&&i[q++]||(Math.round(s)==s?s:+s.toFixed(t))).attr(this.g.txtattr).attr({"text-anchor":h-1?"start":"end"})),s+=d,u-=x;Math.round(u+x-(b-c))&&(j!="-"&&j!=" "&&(l=l.concat(["M",a-(j=="+"||j=="|"?k:!(h-1)*k*2),b-c+.5,"l",k*2+1,0])),r.push(this.text(a+v,b-c,i&&i[q]||(Math.round(s)==s?s:+s.toFixed(t))).attr(this.g.txtattr).attr({"text-anchor":h-1?"start":"end"})))}else{s=n,t=(p>0)*p,v=(h?-1:1)*(k+9+!h);var w=a,x=c/g,y=0,z=0;while(w<=a+c){j!="-"&&j!=" "&&(l=l.concat(["M",w+.5,b-(j=="+"?k:!!h*k*2),"l",0,k*2+1])),r.push(y=this.text(w,b+v,i&&i[q++]||(Math.round(s)==s?s:+s.toFixed(t))).attr(this.g.txtattr));var A=y.getBBox();z>=A.x-5?r.pop(r.length-1).remove():z=A.x+A.width,s+=d,w+=x}Math.round(w-x-a-c)&&(j!="-"&&j!=" "&&(l=l.concat(["M",a+c+.5,b-(j=="+"?k:!!h*k*2),"l",0,k*2+1])),r.push(this.text(a+c,b+v,i&&i[q]||(Math.round(s)==s?s:+s.toFixed(t))).attr(this.g.txtattr)))}var B=this.path(l);return B.text=r,B.all=this.set([B,r]),B.remove=function(){this.text.remove(),this.constructor.prototype.remove.call(this)},B},Raphael.el.lighter=function(a){a=a||2;var c=[this.attrs.fill,this.attrs.stroke];this.fs=this.fs||[c[0],c[1]],c[0]=Raphael.rgb2hsb(Raphael.getRGB(c[0]).hex),c[1]=Raphael.rgb2hsb(Raphael.getRGB(c[1]).hex),c[0].b=b(c[0].b*a,1),c[0].s=c[0].s/a,c[1].b=b(c[1].b*a,1),c[1].s=c[1].s/a,this.attr({fill:"hsb("+[c[0].h,c[0].s,c[0].b]+")",stroke:"hsb("+[c[1].h,c[1].s,c[1].b]+")"})},Raphael.el.darker=function(a){a=a||2;var c=[this.attrs.fill,this.attrs.stroke];this.fs=this.fs||[c[0],c[1]],c[0]=Raphael.rgb2hsb(Raphael.getRGB(c[0]).hex),c[1]=Raphael.rgb2hsb(Raphael.getRGB(c[1]).hex),c[0].s=b(c[0].s*a,1),c[0].b=c[0].b/a,c[1].s=b(c[1].s*a,1),c[1].b=c[1].b/a,this.attr({fill:"hsb("+[c[0].h,c[0].s,c[0].b]+")",stroke:"hsb("+[c[1].h,c[1].s,c[1].b]+")"})},Raphael.el.original=function(){this.fs&&(this.attr({fill:this.fs[0],stroke:this.fs[1]}),delete this.fs)}}(),Raphael.fn.g.linechart=function(a,b,c,d,e,f,g){function h(a,b){var c=a.length/b,d=0,e=c,f=0,g=[];while(d<a.length)e--,e<0?(f+=a[d]*(1+e),g.push(f/c),f=a[d++]*-e,e+=c):f+=a[d++];return g}function i(a,b,c,d,e,f){var g=(c-a)/2,h=(e-c)/2,i=Math.atan((c-a)/Math.abs(d-b)),j=Math.atan((e-c)/Math.abs(d-f));i=b<d?Math.PI-i:i,j=f<d?Math.PI-j:j;var k=Math.PI/2-(i+j)%(Math.PI*2)/2,l=g*Math.sin(k+i),m=g*Math.cos(k+i),n=h*Math.sin(k+j),o=h*Math.cos(k+j);return{x1:c-l,y1:d+m,x2:c+n,y2:d+o}}function U(g){var h=[];for(var i=0,k=e.length;i<k;i++)h=h.concat(e[i]);h.sort();var l=[],m=[];for(i=0,k=h.length;i<k;i++)h[i]!=h[i-1]&&l.push(h[i])&&m.push(a+j+(h[i]-x)*C);h=l,k=h.length;var o=g||n.set();for(i=0;i<k;i++){var q=m[i]-(m[i]-(m[i-1]||a))/2,r=((m[i+1]||a+c)-m[i])/2+(m[i]-(m[i-1]||a))/2,s;g?s={}:o.push(s=n.rect(q-1,b,Math.max(r+1,1),d).attr({stroke:"none",fill:"#000",opacity:0})),s.values=[],s.symbols=n.set(),s.y=[],s.x=m[i],s.axis=h[i];for(var t=0,u=f.length;t<u;t++){l=e[t]||e[0];for(var v=0,w=l.length;v<w;v++)l[v]==h[i]&&(s.values.push(f[t][v]),s.y.push(b+d-j-(f[t][v]-A)*D),s.symbols.push(p.symbols[t][v]))}g&&g.call(s)}!g&&(p.columns=o)}function V(c){var g=c||n.set(),h;for(var i=0,k=f.length;i<k;i++)for(var l=0,m=f[i].length;l<m;l++){var q=a+j+((e[i]||e[0])[l]-x)*C,r=a+j+((e[i]||e[0])[l?l-1:1]-x)*C,s=b+d-j-(f[i][l]-A)*D;c?h={}:g.push(h=n.circle(q,s,Math.abs(r-q)/2).attr({stroke:"none",fill:"#000",opacity:0})),h.x=q,h.y=s,h.value=f[i][l],h.line=p.lines[i],h.shade=p.shades[i],h.symbol=p.symbols[i][l],h.symbols=p.symbols[i],h.axis=(e[i]||e[0])[l],c&&c.call(h)}!c&&(o=g)}g=g||{},this.raphael.is(e[0],"array")||(e=[e]),this.raphael.is(f[0],"array")||(f=[f]);var j=g.gutter||10,k=Math.max(e[0].length,f[0].length),l=g.symbol||"",m=g.colors||Raphael.fn.g.colors,n=this,o=null,p=this.set(),q=[];for(var r=0,s=f.length;r<s;r++)k=Math.max(k,f[r].length);var t=this.set();for(r=0,s=f.length;r<s;r++)g.shade&&t.push(this.path().attr({stroke:"none",fill:m[r],opacity:g.nostroke?1:.3})),f[r].length>c-2*j&&(f[r]=h(f[r],c-2*j),k=c-2*j),e[r]&&e[r].length>c-2*j&&(e[r]=h(e[r],c-2*j));var u=Array.prototype.concat.apply([],e),v=Array.prototype.concat.apply([],f),w=this.g.snapEnds(Math.min.apply(Math,u),Math.max.apply(Math,u),e[0].length-1),x=w.from,y=w.to,z=this.g.snapEnds(Math.min.apply(Math,v),Math.max.apply(Math,v),f[0].length-1),A=z.from,B=z.to,C=(c-j*2)/(y-x||1),D=(d-j*2)/(B-A||1),E=this.set();if(g.axis){var F=(g.axis+"").split(/[,\s]+/);+F[0]&&E.push(this.g.axis(a+j,b+j,c-2*j,x,y,g.axisxstep||Math.floor((c-2*j)/20),2)),+F[1]&&E.push(this.g.axis(a+c-j,b+d-j,d-2*j,A,B,g.axisystep||Math.floor((d-2*j)/20),3)),+F[2]&&E.push(this.g.axis(a+j,b+d-j,c-2*j,x,y,g.axisxstep||Math.floor((c-2*j)/20),0)),+F[3]&&E.push(this.g.axis(a+j,b+d-j,d-2*j,A,B,g.axisystep||Math.floor((d-2*j)/20),1))}var G=this.set(),H=this.set(),I;for(r=0,s=f.length;r<s;r++){g.nostroke||G.push(I=this.path().attr({stroke:m[r],"stroke-width":g.width||2,"stroke-linejoin":"round","stroke-linecap":"round","stroke-dasharray":g.dash||""}));var J=this.raphael.is(l,"array")?l[r]:l,K=this.set();q=[];for(var L=0,M=f[r].length;L<M;L++){var N=a+j+((e[r]||e[0])[L]-x)*C,O=b+d-j-(f[r][L]-A)*D;(Raphael.is(J,"array")?J[L]:J)&&K.push(this.g[Raphael.fn.g.markers[this.raphael.is(J,"array")?J[L]:J]](N,O,(g.width||2)*3).attr({fill:m[r],stroke:"none"}));if(g.smooth){if(L&&L!=M-1){var P=a+j+((e[r]||e[0])[L-1]-x)*C,Q=b+d-j-(f[r][L-1]-A)*D,R=a+j+((e[r]||e[0])[L+1]-x)*C,S=b+d-j-(f[r][L+1]-A)*D,T=i(P,Q,N,O,R,S);q=q.concat([T.x1,T.y1,N,O,T.x2,T.y2])}L||(q=["M",N,O,"C",N,O])}else q=q.concat([L?"L":"M",N,O])}g.smooth&&(q=q.concat([N,O,N,O])),H.push(K),g.shade&&t[r].attr({path:q.concat(["L",N,b+d-j,"L",a+j+((e[r]||e[0])[0]-x)*C,b+d-j,"z"]).join(",")}),!g.nostroke&&I.attr({path:q.join(",")})}return p.push(G,t,H,E,p.columns,o),p.lines=G,p.shades=t,p.symbols=H,p.axis=E,p.hoverColumn=function(a,b){return!p.columns&&U(),p.columns.mouseover(a).mouseout(b),this},p.clickColumn=function(a){return!p.columns&&U(),p.columns.click(a),this},p.hrefColumn=function(a){var b=n.raphael.is(arguments[0],"array")?arguments[0]:arguments;if(!(arguments.length-1)&&typeof a=="object")for(var c in a)for(var d=0,e=p.columns.length;d<e;d++)p.columns[d].axis==c&&p.columns[d].attr("href",a[c]);!p.columns&&U();for(d=0,e=b.length;d<e;d++)p.columns[d]&&p.columns[d].attr("href",b[d]);return this},p.hover=function(a,b){return!o&&V(),o.mouseover(a).mouseout(b),this},p.click=function(a){return!o&&V(),o.click(a),this},p.each=function(a){return V(a),this},p.eachColumn=function(a){return U(a),this},p};var requirejs,require,define;(function(){function isFunction(a){return ostring.call(a)==="[object Function]"}function isArray(a){return ostring.call(a)==="[object Array]"}function mixin(a,b,c){for(var d in b)!(d in empty)&&(!(d in a)||c)&&(a[d]=b[d]);return req}function makeError(a,b,c){var d=new Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a);return c&&(d.originalError=c),d}function configurePackageDir(a,b,c){var d,e,f;for(d=0;f=b[d];d++)f=typeof f=="string"?{name:f}:f,e=f.location,c&&(!e||e.indexOf("/")!==0&&e.indexOf(":")===-1)&&(e=c+"/"+(e||f.name)),a[f.name]={name:f.name,location:e||f.name,main:(f.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}function jQueryHoldReady(a,b){a.holdReady?a.holdReady(b):b?a.readyWait+=1:a.ready(!0)}function newContext(a){function b(a){var b,c;for(b=0;c=a[b];b++)if(c===".")a.splice(b,1),b-=1;else if(c==="..")if(b!==1||a[2]!==".."&&a[0]!=="..")b>0&&(a.splice(b-1,2),b-=2);else break}function c(a,c){var d,e;return a&&a.charAt(0)==="."&&(c?(v.pkgs[c]?c=[c]:(c=c.split("/"),c=c.slice(0,c.length-1)),a=c.concat(a.split("/")),b(a),e=v.pkgs[d=a[0]],a=a.join("/"),e&&a===d+"/"+e.main&&(a=d)):a.indexOf("./")===0&&(a=a.substring(2))),a}function d(a,b){var d=a?a.indexOf("!"):-1,e=null,f=b?b.name:null,g=a,h,i,j;return d!==-1&&(e=a.substring(0,d),a=a.substring(d+1,a.length)),e&&(e=c(e,f)),a&&(e?(j=z[e],j&&j.normalize?h=j.normalize(a,function(a){return c(a,f)}):h=c(a,f)):(h=c(a,f),i=y[h],i||(i=t.nameToUrl(h,null,b),y[h]=i))),{prefix:e,name:h,parentMap:b,url:i,originalName:g,fullName:e?e+"!"+(h||""):h}}function e(){var a=!0,b=v.priorityWait,c,d;if(b){for(d=0;c=b[d];d++)if(!A[c]){a=!1;break}a&&delete v.priorityWait}return a}function f(a,b,c){return function(){var d=aps.call(arguments,0),e;return c&&isFunction(e=d[d.length-1])&&(e.__requireJsBuild=!0),d.push(b),a.apply(null,d)}}function g(a,b){var c=f(t.require,a,b);return mixin(c,{nameToUrl:f(t.nameToUrl,a),toUrl:f(t.toUrl,a),defined:f(t.requireDefined,a),specified:f(t.requireSpecified,a),isBrowser:req.isBrowser}),c}function h(a){t.paused.push(a)}function j(a){var b,c,e,f,g,h=a.callback,i=a.map,j=i.fullName,k=a.deps,l=a.listeners,m;if(h&&isFunction(h)){if(v.catchError.define)try{c=req.execCb(j,a.callback,k,z[j])}catch(n){e=n}else c=req.execCb(j,a.callback,k,z[j]);j&&(m=a.cjsModule,m&&m.exports!==undefined&&m.exports!==z[j]?c=z[j]=a.cjsModule.exports:c===undefined&&a.usingExports?c=z[j]:(z[j]=c,H[j]&&(I[j]=!0)))}else j&&(c=z[j]=h,H[j]&&(I[j]=!0));B[a.id]&&(delete B[a.id],a.isDone=!0,t.waitCount-=1,t.waitCount===0&&(C=[])),delete F[j],req.onResourceLoad&&!a.placeholder&&req.onResourceLoad(t,i,a.depArray);if(e)return f=(j?d(j).url:"")||e.fileName||e.sourceURL,g=e.moduleTree,e=makeError("defineerror",'Error evaluating module "'+j+'" at location "'+f+'":\n'+e+"\nfileName:"+f+"\nlineNumber: "+(e.lineNumber||e.line),e),e.moduleName=j,e.moduleTree=g,req.onError(e);for(b=0;h=l[b];b++)h(c);return undefined}function k(a,b){return function(c){a.depDone[b]||(a.depDone[b]=!0,a.deps[b]=c,a.depCount-=1,a.depCount||j(a))}}function l(a,b){var c=b.map,d=c.fullName,e=c.name,f=G[a]||(G[a]=z[a]),h;if(b.loading)return;b.loading=!0,h=function(a){b.callback=function(){return a},j(b),A[b.id]=!0,u()},h.fromText=function(a,b){var c=useInteractive;A[a]=!1,t.scriptCount+=1,t.fake[a]=!0,c&&(useInteractive=!1),req.exec(b),c&&(useInteractive=!0),t.completeLoad(a)},d in z?h(z[d]):f.load(e,g(c.parentMap,!0),h,v)}function m(a){B[a.id]||(B[a.id]=a,C.push(a),t.waitCount+=1)}function n(a){this.listeners.push(a)}function o(a,b){var c=a.fullName,e=a.prefix,f=e?G[e]||(G[e]=z[e]):null,g,i,k;return c&&(g=F[c]),g||(i=!0,g={id:(e&&!f?E++ +"__p@:":"")+(c||"__r@"+E++),map:a,depCount:0,depDone:[],depCallbacks:[],deps:[],listeners:[],add:n},x[g.id]=!0,c&&(!e||G[e])&&(F[c]=g)),e&&!f?(k=o(d(e),!0),k.add(function(b){var c=d(a.originalName,a.parentMap),e=o(c,!0);g.placeholder=!0,e.add(function(a){g.callback=function(){return a},j(g)})})):i&&b&&(A[g.id]=!1,h(g),m(g)),g}function p(a,b,c,e){var f=d(a,e),h=f.name,i=f.fullName,l=o(f),n=l.id,p=l.deps,q,r,s,u,w;if(i){if(i in z||A[n]===!0||i==="jquery"&&v.jQuery&&v.jQuery!==c().fn.jquery)return;x[n]=!0,A[n]=!0,i==="jquery"&&c&&jQueryCheck(c())}l.depArray=b,l.callback=c;for(q=0;q<b.length;q++)r=b[q],r&&(r=d(r,h?f:e),s=r.fullName,u=r.prefix,b[q]=s,s==="require"?p[q]=g(f):s==="exports"?(p[q]=z[i]={},l.usingExports=!0):s==="module"?l.cjsModule=w=p[q]={id:h,uri:h?t.nameToUrl(h,null,e):undefined,exports:z[i]}:!(s in z)||s in B||i in H&&!(i in H&&I[s])?(i in H&&(H[s]=!0,delete z[s],D[r.url]=!1),l.depCount+=1,l.depCallbacks[q]=k(l,q),o(r,!0).add(l.depCallbacks[q])):p[q]=z[s]);l.depCount?m(l):j(l)}function q(a){p.apply(null,a)}function r(a,b){if(a.isDone)return undefined;var c=a.map.fullName,e=a.depArray,f,g,h,i,j,k;if(c){if(b[c])return z[c];b[c]=!0}if(e)for(f=0;f<e.length;f++)g=e[f],g&&(i=d(g).prefix,i&&(j=B[i])&&r(j,b),h=B[g],h&&!h.isDone&&A[g]&&(k=r(h,b),a.depCallbacks[f](k)));return c?z[c]:undefined}function s(){var a=v.waitSeconds*1e3,b=a&&t.startTime+a<(new Date).getTime(),c="",d=!1,f=!1,g,h,j;if(t.pausedCount>0)return undefined;if(v.priorityWait)if(e())u();else return undefined;for(g in A)if(!(g in empty)){d=!0;if(!A[g])if(b)c+=g+" ";else{f=!0;break}}if(!d&&!t.waitCount)return undefined;if(b&&c)return h=makeError("timeout","Load timeout for modules: "+c),h.requireType="timeout",h.requireModules=c,req.onError(h);if(f||t.scriptCount)return(isBrowser||isWebWorker)&&!checkLoadedTimeoutId&&(checkLoadedTimeoutId=setTimeout(function(){checkLoadedTimeoutId=0,s()},50)),undefined;if(t.waitCount){for(i=0;j=C[i];i++)r(j,{});t.paused.length&&u(),checkLoadedDepth<5&&(checkLoadedDepth+=1,s())}return checkLoadedDepth=0,req.checkReadyState(),undefined}var t,u,v={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},catchError:{}},w=[],x={require:!0,exports:!0,module:!0},y={},z={},A={},B={},C=[],D={},E=0,F={},G={},H={},I={},J=0;return jQueryCheck=function(a){if(!t.jQuery){var b=a||(typeof jQuery!="undefined"?jQuery:null);if(b){if(v.jQuery&&b.fn.jquery!==v.jQuery)return;if("holdReady"in b||"readyWait"in b)t.jQuery=b,q(["jquery",[],function(){return jQuery}]),t.scriptCount&&(jQueryHoldReady(b,!0),t.jQueryIncremented=!0)}}},u=function(){var a,b,c,d,f,g,h;J+=1,t.scriptCount<=0&&(t.scriptCount=0);while(w.length){g=w.shift();if(g[0]===null)return req.onError(makeError("mismatch","Mismatched anonymous define() module: "+g[g.length-1]));q(g)}if(!v.priorityWait||e())while(t.paused.length){f=t.paused,t.pausedCount+=f.length,t.paused=[];for(d=0;a=f[d];d++)b=a.map,c=b.url,h=b.fullName,b.prefix?l(b.prefix,a):!D[c]&&!A[h]&&(req.load(t,h,c),c.indexOf("empty:")!==0&&(D[c]=!0));t.startTime=(new Date).getTime(),t.pausedCount-=f.length}return J===1&&s(),J-=1,undefined},t={contextName:a,config:v,defQueue:w,waiting:B,waitCount:0,specified:x,loaded:A,urlMap:y,urlFetched:D,scriptCount:0,defined:z,paused:[],pausedCount:0,plugins:G,needFullExec:H,fake:{},fullExec:I,managerCallbacks:F,makeModuleMap:d,normalize:c,configure:function(a){var b,c,d,e,f,g;a.baseUrl&&a.baseUrl.charAt(a.baseUrl.length-1)!=="/"&&(a.baseUrl+="/"),b=v.paths,d=v.packages,e=v.pkgs,mixin(v,a,!0);if(a.paths){for(c in a.paths)c in empty||(b[c]=a.paths[c]);v.paths=b}f=a.packagePaths;if(f||a.packages){if(f)for(c in f)c in empty||configurePackageDir(e,f[c],c);a.packages&&configurePackageDir(e,a.packages),v.pkgs=e}a.priority&&(g=t.requireWait,t.requireWait=!1,t.takeGlobalQueue(),u(),t.require(a.priority),u(),t.requireWait=g,v.priorityWait=a.priority),(a.deps||a.callback)&&t.require(a.deps||[],a.callback)},requireDefined:function(a,b){return d(a,b).fullName in z},requireSpecified:function(a,b){return d(a,b).fullName in x},require:function(b,c,e){var f,g,h;if(typeof b=="string")return isFunction(c)?req.onError(makeError("requireargs","Invalid require call")):req.get?req.get(t,b,c):(f=b,e=c,h=d(f,e),g=h.fullName,g in z?z[g]:req.onError(makeError("notloaded","Module name '"+h.fullName+"' has not been loaded yet for context: "+a)));(b&&b.length||c)&&p(null,b,c,e);if(!t.requireWait)while(!t.scriptCount&&t.paused.length)t.takeGlobalQueue(),u();return t.require},takeGlobalQueue:function(){globalDefQueue.length&&(apsp.apply(t.defQueue,[t.defQueue.length-1,0].concat(globalDefQueue)),globalDefQueue=[])},completeLoad:function(a){var b;t.takeGlobalQueue();while(w.length){b=w.shift();if(b[0]===null){b[0]=a;break}if(b[0]===a)break;q(b),b=null}b?q(b):q([a,[],a==="jquery"&&typeof jQuery!="undefined"?function(){return jQuery}:null]),req.isAsync&&(t.scriptCount-=1),u(),req.isAsync||(t.scriptCount-=1)},toUrl:function(a,b){var c=a.lastIndexOf("."),d=null;return c!==-1&&(d=a.substring(c,a.length),a=a.substring(0,c)),t.nameToUrl(a,d,b)},nameToUrl:function(a,b,d){var e,f,g,h,i,j,k,l,m=t.config;a=c(a,d&&d.fullName);if(req.jsExtRegExp.test(a))l=a+(b?b:"");else{e=m.paths,f=m.pkgs,i=a.split("/");for(j=i.length;j>0;j--){k=i.slice(0,j).join("/");if(e[k]){i.splice(0,j,e[k]);break}if(g=f[k]){a===g.name?h=g.location+"/"+g.main:h=g.location,i.splice(0,j,h);break}}l=i.join("/")+(b||".js"),l=(l.charAt(0)==="/"||l.match(/^\w+:/)?"":m.baseUrl)+l}return m.urlArgs?l+((l.indexOf("?")===-1?"?":"&")+m.urlArgs):l}},t.jQueryCheck=jQueryCheck,t.resume=u,t}function getInteractiveScript(){var a,b,c;if(interactiveScript&&interactiveScript.readyState==="interactive")return interactiveScript;a=document.getElementsByTagName("script");for(b=a.length-1;b>-1&&(c=a[b]);b--)if(c.readyState==="interactive")return interactiveScript=c;return null}var version="1.0.3",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,cjsRequireRegExp=/require\(\s*["']([^'"\s]+)["']\s*\)/g,currDirRegExp=/^\.\//,jsSuffixRegExp=/\.js$/,ostring=Object.prototype.toString,ap=Array.prototype,aps=ap.slice,apsp=ap.splice,isBrowser=typeof window!="undefined"&&!!navigator&&!!document,isWebWorker=!isBrowser&&typeof importScripts!="undefined",readyRegExp=isBrowser&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera=typeof opera!="undefined"&&opera.toString()==="[object Opera]",empty={},contexts={},globalDefQueue=[],interactiveScript=null,checkLoadedDepth=0,useInteractive=!1,req,cfg={},currentlyAddingScript,s,head,baseElement,scripts,script,src,subPath,mainScript,dataMain,i,ctx,jQueryCheck,checkLoadedTimeoutId;if(typeof define!="undefined")return;if(typeof requirejs!="undefined"){if(isFunction(requirejs))return;cfg=requirejs,requirejs=undefined}typeof require!="undefined"&&!isFunction(require)&&(cfg=require,require=undefined),req=requirejs=function(a,b){var c=defContextName,d,e;return!isArray(a)&&typeof a!="string"&&(e=a,isArray(b)?(a=b,b=arguments[2]):a=[]),e&&e.context&&(c=e.context),d=contexts[c]||(contexts[c]=newContext(c)),e&&d.configure(e),d.require(a,b)},req.config=function(a){return req(a)},require||(require=req),req.toUrl=function(a){return contexts[defContextName].toUrl(a)},req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,s=req.s={contexts:contexts,skipAsync:{}},req.isAsync=req.isBrowser=isBrowser,isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=function(a){throw a},req.load=function(a,b,c){req.resourcesReady(!1),a.scriptCount+=1,req.attach(c,a,b),a.jQuery&&!a.jQueryIncremented&&(jQueryHoldReady(a.jQuery,!0),a.jQueryIncremented=!0)},define=function(a,b,c){var d,e;return typeof a!="string"&&(c=b,b=a,a=null),isArray(b)||(c=b,b=[]),!b.length&&isFunction(c)&&c.length&&(c.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(a,c){b.push(c)}),b=(c.length===1?["require"]:["require","exports","module"]).concat(b)),useInteractive&&(d=currentlyAddingScript||getInteractiveScript(),d&&(a||(a=d.getAttribute("data-requiremodule")),e=contexts[d.getAttribute("data-requirecontext")])),(e?e.defQueue:globalDefQueue).push([a,b,c]),undefined},define.amd={multiversion:!0,plugins:!0,jQuery:!0},req.exec=function(text){return eval(text)},req.execCb=function(a,b,c,d){return b.apply(d,c)},req.addScriptToDom=function(a){currentlyAddingScript=a,baseElement?head.insertBefore(a,baseElement):head.appendChild(a),currentlyAddingScript=null},req.onScriptLoad=function(a){var b=a.currentTarget||a.srcElement,c,d,e;if(a.type==="load"||b&&readyRegExp.test(b.readyState))interactiveScript=null,c=b.getAttribute("data-requirecontext"),d=b.getAttribute("data-requiremodule"),e=contexts[c],contexts[c].completeLoad(d),b.detachEvent&&!isOpera?b.detachEvent("onreadystatechange",req.onScriptLoad):b.removeEventListener("load",req.onScriptLoad,!1)},req.attach=function(a,b,c,d,e,f){var g;return isBrowser?(d=d||req.onScriptLoad,g=b&&b.config&&b.config.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),g.type=e||"text/javascript",g.charset="utf-8",g.async=!s.skipAsync[a],b&&g.setAttribute("data-requirecontext",b.contextName),g.setAttribute("data-requiremodule",c),g.attachEvent&&!isOpera?(useInteractive=!0,f?g.onreadystatechange=function(a){g.readyState==="loaded"&&(g.onreadystatechange=null,g.attachEvent("onreadystatechange",d),f(g))}:g.attachEvent("onreadystatechange",d)):g.addEventListener("load",d,!1),g.src=a,f||req.addScriptToDom(g),g):(isWebWorker&&(importScripts(a),b.completeLoad(c)),null)};if(isBrowser){scripts=document.getElementsByTagName("script");for(i=scripts.length-1;i>-1&&(script=scripts[i]);i--){head||(head=script.parentNode);if(dataMain=script.getAttribute("data-main")){cfg.baseUrl||(src=dataMain.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath,dataMain=mainScript.replace(jsSuffixRegExp,"")),cfg.deps=cfg.deps?cfg.deps.concat(dataMain):[dataMain];break}}}req.checkReadyState=function(){var a=s.contexts,b;for(b in a)if(!(b in empty)&&a[b].waitCount)return;req.resourcesReady(!0)},req.resourcesReady=function(a){var b,c,d;req.resourcesDone=a;if(req.resourcesDone){b=s.contexts;for(d in b)d in empty||(c=b[d],c.jQueryIncremented&&(jQueryHoldReady(c.jQuery,!1),c.jQueryIncremented=!1))}},req.pageLoaded=function(){document.readyState!=="complete"&&(document.readyState="complete")},isBrowser&&document.addEventListener&&(document.readyState||(document.readyState="loading",window.addEventListener("load",req.pageLoaded,!1))),req(cfg),req.isAsync&&typeof setTimeout!="undefined"&&(ctx=s.contexts[cfg.context||defContextName],ctx.requireWait=!0,setTimeout(function(){ctx.requireWait=!1,ctx.takeGlobalQueue(),ctx.scriptCount||ctx.resume(),req.checkReadyState()},0))})(),define("requireLib",function(){}),function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n=Array.prototype.slice,o=Object.prototype.hasOwnProperty,p=function(a,b){function c(){this.constructor=a}for(var d in b)o.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};a=typeof (typeof console!="undefined"&&console!==null?console.error:void 0)=="function"&&function(a){return console.error(a)}||function(){},e=this,c=e.document||{createElement:function(){}},j=typeof Node=="object"?function(a){return a instanceof Node}:function(a){return typeof a=="object"&&typeof a.nodeType=="number"&&typeof a.nodeName=="string"},i=Array.isArray?Array.isArray:function(){var a;return a=Array.prototype.push,function(a){return a.push===push&&a.length!=null}}(),f=Function.prototype.bind?function(a,b){return a.bind(b)}:function(a,b){return function(){return a.apply(b,arguments)}},g=function(){return c.createElement("div")},l=c.createRange(),h=function(a){var b;return b=l.createContextualFragment(a).childNodes[0],b.nodeType===1&&b},m=function(b,d){var e,f;while(d.length>0)(e=d.shift())!=null&&(j(e)?b.appendChild(e):(f=typeof e)==="string"||f==="number"?b.appendChild(c.createTextNode(e)):i(e)?Array.prototype.unshift.apply(d,e):a("renderNodes: unsupported child type = "+e));return b},e.cell=b=function(){function b(a){var b,c,d,e,g,h,j,k,l,n,o;this.options=a!=null?a:{},this.options.model!=null&&(this.model=this.options.model),typeof this.init=="function"&&this.init(this.options),this.$el=jQuery(this.el=this._tag());if(g=this.options.id)this.el.id=g;n=[this.cell.prototype.name,this["class"],this.options["class"]];for(e=0,l=n.length;e<l;e++)j=n[e],j&&(this.el.className+=e&&" "+j||j);m(this.el,i(k=typeof this.render=="function"?this.render(this.$R):void 0)&&k||[]),o=this.on;for(b in o)d=o[b],typeof d=="function"&&(h=/^([A-z]+)(\s(.*))?$/.exec(b))&&(c=h[1])&&this.$el.on(c,h[3],f(d,this));typeof this.afterRender=="function"&&this.afterRender();return}return b.prototype.$=function(a){return jQuery(a,this.el)},b.prototype.$R=function(){var b,d,e,f,g,i,k,l;b=arguments[0],d=arguments[1],e=3<=arguments.length?n.call(arguments,2):[];if(b)return(d!=null?d.constructor:void 0)!==Object&&(e.unshift(d),d=void 0),k=function(){if(typeof b=="string"){if(i=/^(\w+)?(#([\w\-]+))*(\.[\w\.\-]+)?$/.exec(b)){f=c.createElement(i[1]||"div"),(l=i[3])&&f.setAttribute("id",l);if(d){"class"in d&&(f.className+=d["class"],d["class"]=void 0);for(g in d)l=d[g],f.setAttribute(g,l)}if(l=i[4])f.className+=l.replace(/\./g," ");return f}return/^<[A-z]/.test(b)?h(b):a("renderParent: unsupported parent string = '"+b+"'")}return b.prototype.cell===b?(new b(d)).el:j(b)?b:a("renderParent: unsupported parent type = "+b)}(),k&&m(k,e)},b}(),b.extend=function(a){var b,d,e,f,i,j,k;a==null&&(a={});if(typeof a!="object")throw"cell.extend(): expects an object {render,init,name}";if(a.init&&typeof a.init!="function"||a.render&&typeof a.render!="function")throw"cell.extend(): expects {render,init} to be functions";b=function(){function a(){a.__super__.constructor.apply(this,arguments)}return p(a,this),a}.call(this);for(i in a)k=a[i],b.prototype[i]=k;return b.prototype.cell=b,b.prototype._tag=(j=typeof a.tag)==="string"?function(){return h(a.tag)||g()}:j==="function"?function(){return h(this.tag())||g()}:g,typeof (d=a.css)=="string"?(f=c.createElement("style"),f.innerHTML=d):typeof (e=a.css_href)=="string"&&(f=c.createElement("link"),f.href=e,f.rel="stylesheet"),f&&(f.type="text/css",$("head")[0].appendChild(f)),b};if(typeof define=="function"&&typeof require=="function"){k=/(.*\/)?(.*)$/,define("cell",[],d={pluginBuilder:"cell-builder-plugin",load:function(c,e,f,g){e([c],function(g){var h,i;typeof g!="object"?a("Couldn't load "+c+" cell. cell definitions should be objects, but instead was "+typeof g):(g.name=k.exec(c)[2],((h=d.__preinstalledCells__)!=null?h[c]:void 0)==null&&(i=g.css_href)==null&&(g.css_href=e.toUrl(""+c+".css")),typeof g["extends"]=="string"?e(["cell!"+g["extends"]],function(a){a.prototype.name&&(g["class"]=a.prototype.name+(" "+g["class"])||""),f(a.extend(g))}):f(b.extend(g)))})}}),jQuery(c).ready(function(){l.selectNode(c.body),jQuery("[data-cell]").each(function(){var a,b,c,d,f,g=this;if(d=this.getAttribute("data-cell")){f={},b=/(^\?cachebust)|(&cachebust)/.test(e.location.search),((c=this.getAttribute("data-cell-cachebust"))!==null||b)&&c!=="false"&&(f.urlArgs="bust="+(new Date).getTime());if(a=this.getAttribute("data-cell-baseurl"))f.baseUrl=a;require(f,["cell!"+d],function(a){jQuery(g).append((new a).el)})}})});return}}.call(this),define("shared/page/Page",["require","cell!./Nav"],function(a,b){var c;return c=function(a){return setTimeout(a,0)},{init:function(){var a,b,c;return(a=this.options).baseurl==null&&(a.baseurl=""),(c=(b=this.options).selectedSection)!=null?c:b.selectedSection=this.options.sections[0]},loadSection:function(b){var c,d=this;return this.options.selectedSection=b.replace(" ","-"),c=this.$("> #content"),c.html(""),a(["cell!"+this.options.baseurl+"/"+b.toLowerCase()+"/"+b+"Section"],function(a){if(d.options.selectedSection===b)return c.html(""),c.append((new a).el)})},render:function(a){var d=this;return c(function(){return d.loadSection(d.options.selectedSection)}),[a(b,{tabs:this.options.sections,selectedTab:this.options.selectedSection}),a("#content")]},on:{"changed :parent > .Nav":function(a,b){var c;return c=b.selectedTab,this.loadSection(c)}}}}),define("shared/page/Nav",{init:function(){var a,b;return(b=(a=this.options).selectedTab)!=null?b:a.selectedTab=this.options.tabs[0]},render:function(a){var b,c;return[a("ul",function(){var d,e,f;e=this.options.tabs,f=[];for(b=0,d=e.length;b<d;b++)c=e[b],f.push(a("li"+(this.options.selectedTab===c&&".selected"||""),a("a",{href:"#",id:c},c),a(".triangle")));return f}.call(this))]},on:{"click a":function(a){var b;return this.$(".selected").removeClass("selected"),$(b=a.target).parent().addClass("selected"),$(this.el).trigger("changed",{selectedTab:this.options.selectedTab=b.id})}}}),define("App",["require","cell!shared/page/Page","cell!pages/dashboard/DashboardPage","cell!Bar"],function(a,b,c,d){var e;return e={Dashboard:{cell:c}},{init:function(){var a,b;return(b=(a=this.options).selectedPage)!=null?b:a.selectedPage="Dashboard"},render:function(b){var c,f=this;return $.browser.msie?a(["cell!./IEGTFO"],function(a){return f.$el.html("").append(b(a))}):[b(d,{selectedItem:this.options.selectedPage,items:function(){var a;a=[];for(c in e)a.push(c);return a}()}),b("#content",this.getPage(this.options.selectedPage))]},on:{"selectedItemChanged :parent > .Bar":function(a,b){var c;return c=b.item,this.$("> #content").html("").append(this.getPage(c))}},getPage:function(a){var b;if(b=e[a])return(new b.cell(b.options)).el}}});var __slice=Array.prototype.slice;define("Bus",[],function(){var a;return a=$(document.createElement("div")),{trigger:function(b){return a.trigger(b)},one:function(b,c){return a.one(b,c)},bind:function(){var b;return b=1<=arguments.length?__slice.call(arguments,0):[],a.bind.apply(a,b)},unbind:function(b,c){if(typeof c=="function")return a.unbind(b,c)}}}),define("shared/LocationSearch",[],function(){var a,b,c,d,e,f,g,h;c={},g=window.location.search.slice(1).split("?");for(e=0,f=g.length;e<f;e++)b=g[e],h=b.split("="),a=h[0],d=h[1],c[a]=d;return c});var __slice=Array.prototype.slice;define("data/JSONPService",["shared/LocationSearch"],function(a){var b,c,d,e;return c=function(a){return a},e=0,d=function(a){var b,c;return b="__jsonp"+ ++e,window[b]=function(c){return a.success(c),window[b]=void 0,$("#"+b).remove()},a.callback==null&&(a.callback="callback"),c=document.createElement("script"),c.id=b,c.setAttribute("type","text/javascript"),c.setAttribute("src",""+a.url+(a.url.indexOf("?")===-1&&"?"||"&")+a.callback+"="+b),$("head").append(c)},b=a.usemockdata?function(a,b){var c;return c=a.mock,setTimeout(function(){return require([c],b)},0)}:function(a,b){var c;return c=a.real,d({callback:"jsonp",url:c,success:b||function(){}})},{getXPToolBaseUrl:function(a){return"http://destinyxptool/xptool/"+a},JSONPService:function(){function a(a,d){var e,f,g,h,i,j,k=this;e=d.baseURL,i=d.process,f=d.methods,i==null&&(i=c),j=function(d,f){var g,h,j;return h=i,g=c,(j=typeof f)==="object"&&j!=="function"&&(f.process!=null&&(h=f.process),f=f.path,f.getCache!=null&&(g=f.getCache)),typeof f=="string"&&(f=function(a){return function(){return a}}(f)),k[d]=function(){var i,j,k,l;i=2<=arguments.length?__slice.call(arguments,0,l=arguments.length-1):(l=0,[]),k=arguments[l++],k==null&&(k=c),(j=g())!==void 0?k(j):b({mock:"data/mock/"+a+"-"+d,real:e+f.apply(null,i)},function(
a){return k(h(a))})}};for(g in f)h=f[g],j(g,h)}return a}()}}),define("data/DashboardService",["data/JSONPService"],function(a){var b,c;return b=a.JSONPService,c=a.getXPToolBaseUrl,new b("Dashboard",{baseURL:c("rest/jumbotron/"),methods:{getCurrentIterationNumber:{path:"iteration/current",process:function(a){var b;return b=a.iterationInfo.iterationNo,b}},getIterationTestStatus:{path:"iteration/tests",process:function(a){var b;return b=a.test,b}},getRecentTestResults:function(a){return(a==="ats"||a==="units")&&"tests/"+a+"?recent=10"},getStoryCodeTasksDetails:function(a){return"iteration/stories/"+a+"/codeTasks"},getStoryTasksDetails:function(a){return"iteration/stories/"+a+"/tasks"},getStorySummaries:function(){var a,b;return a=/^\((.*)\)$/,b=/^((\w|\/)+[ ]+- )*(.*)$/,{path:function(a){return"iteration/"+(a!=null&&""+a+"/"||"")+"stories/"},process:function(c){var d,e,f,g,h,i,j,k,l,m,n,o;return o=c.iterationStories,h=o.iterationNo,l=o.stories,l=function(){var c,h,o,p,q,r;o=l||[],r=[];for(c=0,h=o.length;c<h;c++)k=o[c],p=function(){var b,c,d,e,f,g;f=((d=a.exec(k.chumps))!=null?(e=d[1])!=null?e.split(" - "):void 0:void 0)||[],g=[];for(b=0,c=f.length;b<c;b++)j=f[b],g.push(function(){var a,b,c,d;c=j.split("/"),d=[];for(a=0,b=c.length;a<b;a++)i=c[a],d.push(i.toUpperCase());return d}());return g}(),g=p[0],n=p[1],r.push({storynum:k.num,name:(q=b.exec(k.description))!=null?q[3]:void 0,codeCompletePct:k.codeCompletePct,codeTasksIncomplete:k.codeTasksIncomplete,codeTasks:f={completePct:k.codeCompletePct,notStarted:k.notStartedCodeTasks||0,inProgress:k.inProgressCodeTasks||0,completed:k.completedCodeTasks||0},ats:e={failing:k.failingATs,needsAttn:k.needsAttentionATs,unwritten:k.unwrittenATs,total:d=k.failingATs+k.passingATs+k.unwrittenATs},tasks:m={needsAttn:k.chumpTaskNA,retest:k.chumpTaskRetest,completed:k.chumpTaskComplete},owners:k.owners,status:function(){return d===0||f.notStarted+e.failing+e.needsAttn+m.needsAttn?0:f.inProgress+e.unwritten+m.retest?1:2}()});return r}(),l.sort(function(a,b){return a.status-b.status||a.storynum-b.storynum}),{stories:l,iterationNo:h}}}}(),getStoryTestDetails:function(){var a,b,c,d,e;return a=function(a){var b;return(b=new Date).getYear()===a.getYear()&&b.getMonth()===a.getMonth()&&b.getDate()===a.getDate()},c=function(){var b,c;return c=/^(\w*)[ ]+(([a-zA-Z ])*?)(-[ ]*)?(\d+\/\d+\/\d\d\d\d)/,b=/^Developer/,function(b){var d,e;return(e=c.exec(b))?{owner:e[1],status:e[2].trim(),date:d=new Date(e[5]),isToday:a(d)}:{owner:"Developer",status:"",date:"",isToday:!1}}}(),b=function(){var a;return a=/^test\d+_(.*)$/,function(b){return a.exec(b)[1]}}(),e=""+((d=new Date).getMonth()+1)+"/"+d.getDate()+"/"+d.getFullYear(),{path:function(a,b){return"iteration/stories/"+a+"/tests"},process:function(a){return a=function(){var b,e,f,g;g=[];for(b=0,e=a.length;b<e;b++)d=a[b].test,d.status=((f=d.status)==="pass"||f==="fail"||f==="na"||f==="towrite")&&d.status||"unknown",d.update=c(d.owner),g.push(d);return g}(),a.sort(function(a,b){var c,d;return c=a.id,d=b.id,c-d}),a}}}()}})}),define("data/Auth",["data/JSONPService","Bus"],function(a,b){var c,d,e,f,g,h;return c=a.JSONPService,f=a.getXPToolBaseUrl,d=function(a,b){try{return $("body").append($("<img src='"+f("base.login.do")+"?loginName="+a+"&password="+b+"&login=Login' height='0' width='0'/>"))}catch(c){}},e=function(){try{return $("body").append($("<img src='"+f("base.login.do")+"?logout=true' height='0' width='0'/>"))}catch(a){}},h=void 0,g=new c("Auth",{baseURL:f("rest/xoltop/auth/"),methods:{user:{getCached:function(){return h},path:"user",process:function(a){var b;return b=a.user,h=b||null}},login:{path:function(a,b){return d(a,b),"login?user="+a+"&pass="+b},process:function(a){var c;return c=a.user,(h=c)&&b.trigger({type:"auth.userLoggedIn",user:h}),h}},logout:{path:function(){return e(),"logout"},process:function(a){return h=null,b.trigger({type:"auth.userLoggedOut"}),a}}}}),g.getUser=function(){return h},g}),define("Services",["Bus","data/JSONPService","data/DashboardService","data/Auth"],function(a,b,c,d){var e,f;return e=b.getXPToolBaseUrl,{isIOS:(f=navigator.userAgent).match(/iPhone/i)||f.match(/iPod/i)||f.match(/iPad/i),bus:a,getXPToolBaseUrl:e,dashboard:c,auth:d}}),define("shared/loadingindicator/LoadingIndicator",["require"],function(a){return{init:function(){if(this.options.enable===!0)return this["class"]="enableLoading"},render:function(b){return[b("<img class='loaderIcon' src='"+a.toUrl("./ajax-loader.gif")+"'/>"),"Loading"]},on:{enable:function(){return this.$el.toggleClass("enableLoading",!0)},disable:function(){return this.$el.toggleClass("enableLoading",!1)}}}});var __indexOf=Array.prototype.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};define("pages/dashboard/LabeledCounts",{init:function(){var a,b;return(b=(a=this.options).showIfZero)!=null?b:a.showIfZero=[]},render:function(a){var b,c;return[a(".triangle"),a(".label",{href:"#"},this.options.label),this.options.disableCount===void 0?a(".counts",function(){var d,e;d=this.options.counts,e=[];for(c in d)b=d[c],(b>0||__indexOf.call(this.options.showIfZero,c)>=0)&&e.push(a("."+c+".count",b));return e}.call(this)):void 0]}}),typeof $=="function"&&$("head").append("<link href='http://fonts.googleapis.com/css?family=Nunito&v1' rel='stylesheet' type='text/css'>"),define("pages/dashboard/statusshelf/IterationChooser",{render:function(a){return[a(".iterNum",a("a.prevIter",{href:"#"},"<"),a("span.num",this.options.iterationNo),a("a.nextIter",{href:"#"},">")),a(".iterLabel","ITERATION")]},on:function(){var a;return a=function(a){return function(){var b;if(0<(b=this.options.iterationNo+a))return this.options.iterationNo=b,this.$(".num").html(this.options.iterationNo),this.$el.trigger({type:"iterationNoChanged",newIterationNo:this.options.iterationNo})}},{"click .prevIter":a(-1),"click .nextIter":a(1)}}()});var __indexOf=Array.prototype.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};define("pages/dashboard/DashboardPage",["Services","cell!shared/loadingindicator/LoadingIndicator","cell!./DashboardStory","cell!./statusshelf/IterationChooser","cell!./statusshelf/testresultsgraph/TestResultsGraph","cell!shared/InitialsList"],function(a,b,c,d,e,f){return{render:function(c){var f,g=this;return this.iterationNo=null,a.bus.bind({"auth.userLoggedIn":f=function(){return a.dashboard.getStorySummaries(g.iterationNo,function(a){var b,c;return b=a.iterationNo,c=a.stories,g.renderStories(c)})},"auth.userLoggedOut":f}),setTimeout(function(){return a.auth.user(function(b){return a.dashboard.getStorySummaries(null,function(b){var f,h;return f=b.iterationNo,h=b.stories,g.$el.append([c(".myStoryDivider",c("span.leftTri"),"STORIES"),c(".stats",c(d,{iterationNo:f}),c(e,{type:"ats",label:"AT",urlPrefix:a.getXPToolBaseUrl("xp.failingtestsbypackage.do?runID=")}),c(e,{type:"units",label:"UNIT",urlPrefix:a.getXPToolBaseUrl("unittool.failingtestsbysuite.do?testRunID=")})),c(".noStories","No Stories")]),g.renderStories(h)})})},50),[c(b,{enable:!0})]},renderStories:function(b){var d,e,g,h,i,j,k,l,m;i=a.auth.getUser(),this.$(".noStories").toggle(!(e=b&&b.length)),this.$(".myStoryDivider").toggle(!1),this.$(".DashboardStory").remove(),this.$("> .LoadingIndicator").trigger("disable");if(e){g=function(){var a,d,e;if(i!=null){e=[];for(a=0,d=b.length;a<d;a++){h=b[a];if(h.owners==null||i.initials!==h.owners)continue;this.$el.append((new c({model:h})).$el),e.push(h.name)}return e}return[]}.call(this);if(d=g.length>0)this.$(".myStoryDivider .InitialsList").remove(),this.$(".myStoryDivider > .leftTri").after((new f({initials:i&&[i.initials]||[]})).el),this.$el.append(this.$(".myStoryDivider")),this.$(".myStoryDivider").toggle(!0);m=[];for(j=0,k=b.length;j<k;j++)h=b[j],(l=h.name,__indexOf.call(g,l)<0)&&m.push(this.$el.append((new c({model:h})).$el));return m}},on:{"selected .DashboardStory":function(a){var b;return b=a.target,this.$(".DashboardStory.selected").trigger("deselected")},"iterationNoChanged .IterationChooser":function(b){var c,d=this;return c=b.newIterationNo,this.iterationNo=c,this.$(".DashboardStory").remove(),this.$(".noStories").toggle(!1),this.$("> .LoadingIndicator").trigger("enable"),a.dashboard.getStorySummaries(this.iterationNo,function(a){var b;return b=a.stories,d.$("> .LoadingIndicator").trigger("disable"),d.renderStories(b)})}}}}),define("pages/dashboard/DashboardStory",["require","Services","cell!./LabeledCounts","cell!shared/loadingindicator/LoadingIndicator","cell!shared/InitialsList"],function(a,b,c,d,e){var f,g,h,i;return i=["red","yellow","green"],f=["SG","RU","CN","VT"],h=["Initiation","Installation","Docs/Recs/Design","Testing","Launch","Post Launch"],{render:function(a){var b=this;return[a(".header",a(".collapseStory",a(".triangle"),a(".rect")),a(".storyID."+i[this.model.status],this.model.storynum),a(".nameContainer",a("a.name",{href:"#"},this.model.name)),a(c,{"class":"code",label:h[Math.floor(Math.random()*h.length)]+" : CMS Setup",showIfZero:["green"],counts:function(){var c,d,e,f,g;return g=b.model.codeTasks,c=g.completePct,f=g.notStarted,e=g.inProgress,d=g.completed,c=[c,a("span.codeCompletePct","%")],f?{red:c}:e?{yellow:c}:{green:c}}()}),a(e,{initials:[this.model.owners]})),a(".details",a(d),a(".contents"))]},onSectionLoaded:g=function(){return this.$(".LoadingIndicator").trigger("disable"),this.$(".details").height(""+this.$(".detail.selected").outerHeight()+"px")},on:function(){var b,c;return c=function(c){var d;return d=c.split("/").slice(-1),function(e){var f=this;return this.$(".LabeledCounts.selected").toggleClass("selected",!1),this.$el.hasClass("selected")||(this.$el.trigger("selected"),this.$el.toggleClass("selected",!0)),d===this.options.expandedSection?b.call(this):(this.options.expandedSection=d,this.$(".countCol > .selected").toggleClass("selected",!1),this.$(".detail.selected").toggleClass("selected",!1),this.$(".LoadingIndicator").trigger("enable"),a(["cell!"+c],function(a){var b,c;if(!!(b=f.$("."+a.prototype.name))[0])return b.prependTo(b.parent()),setTimeout(function(){return f.$(".LoadingIndicator").trigger("disable"),b.toggleClass("selected",!0),f.$(".details").height(""+b.outerHeight()+"px")},0);c=new a({"class":"detail selected",storynum:f.model.storynum}),f.$(".details > .contents").prepend(c.el);if(c.loaded)return f.onSectionLoaded()}))}},{"click .nameContainer > a.name":c("./code/CodeSection"),"loaded .details > .contents > .detail.selected":g,"click .header > .tests":c("./tests/TestsSection"),"click .header > .tasks":c("./tasks/TasksSection"),"click .header > .code":c("./code/CodeSection"),"click .collapseStory":b=function(){return this.$(".LabeledCounts.selected, .detail.selected").toggleClass("selected",!1),this.$el.toggleClass("selected",!1),this.$(".details").height("0px"),this.options.expandedSection=void 0},deselected:b}}()}}),define("pages/dashboard/statusshelf/testresultsgraph/TestResultsGraph",["Services","cell!shared/loadingindicator/LoadingIndicator"],function(a,b){var c,d,e,f,g,h,i,j,k,l;return l=cell.prototype.$R,i="#62872C",c="#992626",e=function(a){var b,c,d;return d=a.values[0]>0&&["#F88","#F00"]||["#8F8","#090"],c=d[0],b=d[1],a.attr({fill:b,opacity:.15}),a.symbols.attr({stroke:c,"stroke-width":2,"stroke-opacity":1})},h=["Today","Yesterday"].concat(function(){var a;a=[];for(f=2;f<7;f++)a.push(""+f+" days ago");return a}(),"a week ago"),j=new Date,g=function(a){return j.getMonth()===a.getMonth()&&h[j.getDate()-a.getDate()]},d=function(a){return g(a=new Date(a))||""+a.getMonth()+"-"+a.getDate()},k=function(a){var b;return b=a.values[0]>0&&c||i,a.attr({opacity:0}),a.symbols[0].attr({fill:b,"stroke-opacity":0})},{render:function(f){var g=this;return setTimeout(function(){return a.dashboard.getRecentTestResults(g.options.type,function(a){var b,h,j,l,m,n,o,p,q,r,s,t,u,v,w,x,y;g.$(".LoadingIndicator").trigger("disable"),h=g.$el,b=function(a){return g.$(a)},g.results=a,v=[125,64],s=v[0],m=v[1],q=Raphael(0,3,s,m),p=q.g.linechart(0,0,s,m,[function(){y=[];for(var b=0,c=a.length;0<=c?b<c:b>c;0<=c?b++:b--)y.push(b);return y}.apply(this)],[function(){var b,c,d;d=[];for(b=0,c=a.length;b<c;b++)l=a[b].testResult.failures,d.push(l);return d}()],{nostroke:!1,symbol:"o",colors:["#4A1A1A"]}),r=g.options.urlPrefix,p.clickColumn(function(){return window.open(r+a[this.axis].testResult.runid,"_blank")}),p.hoverColumn.call(p,function(){return e(this),o!==this&&k(o),b(".labelRow").toggleClass("fail",this.values[0]>0),b(".count").html(this.values[0]),b(".when").html(d(a[this.axis].testResult.datetime))},function(){return k(this),b(".labelRow").toggleClass("fail",o.values[0]>0),b(".count").html(o.values[0]),b(".when").html("")}),x=p.columns;for(n=0,u=x.length;n<u;n++)j=x[n],j.symbols[0].attr({fill:j.values[0]===0?i:c});return e(o=g.lastCol=p.columns[p.columns.length-1]),p.symbols.attr({r:3}),q.canvas["class"]="graph",g.$el.append([f("table",f("tr",f("td",f(".graphContainer",q.canvas)),f("td.labelRow"+(g.lastCol.values[0]&&".fail"||""),f(".label",g.options.label),f(".count",g.lastCol.values[0]),f(".when"))))])})},50),[f(b,{enable:!0})]},on:{mouseout:function(){return e(this.lastCol)}}}}),define("shared/InitialsList",["Services"],function(a){return{tag:"<ul>",render:function(b){var c,d,e,f,g,h;f=this.options.initials,h=[];for(d=0,e=f.length;d<e;d++)c=f[d],h.push(b("<li class='"+(((g=a.auth.getUser())!=null?g.initials:void 0)===c&&"currentUser"||"")+"'>",c));return h}}}),define("Bar",["Services","cell!signin/SignIn"],function(a,b){return $('<link  href="http://fonts.googleapis.com/css?family=Maven+Pro:700&v1" rel="stylesheet" type="text/css" >').appendTo("head"),{render:function(a){var c,d;return[a("#xoltop","Intl Team Dashboard"),function(){var b,e,f;e=this.options.items,f=[];for(c=0,b=e.length;c<b;c++)d=e[c],f.push(a("span.navItemContainer",$("<a class='navItem "+(c===0&&"selected"||"")+"' data-item='"+d+"'>"+d.toUpperCase()+"</a>")[0]));return f}.call(this),a(b)]},on:{"click .navItem":function(a){var b;return this.$(".navItem.selected").removeClass("selected"),(b=$(a.target)).addClass("selected"),$(this.el).trigger("selectedItemChanged",{item:b.attr("data-item")})}}}}),require(["cell"],function(a){a.__preinstalledCells__={App:0,"shared/page/Page":0,"pages/dashboard/DashboardPage":0,"shared/page/Nav":0,Bar:0,"shared/loadingindicator/LoadingIndicator":0,"pages/dashboard/DashboardStory":0,"pages/dashboard/statusshelf/IterationChooser":0,"pages/dashboard/LabeledCounts":0,"pages/dashboard/statusshelf/testresultsgraph/TestResultsGraph":0,"shared/InitialsList":0,"signin/SignIn":0,"signin/SignedIn":0}}),define("signin/SignIn",["Services","cell!./SignedIn"],function(a,b){var c;return{tag:"<span>",render:function(c){var d=this;return a.bus.bind("auth.userLoggedOut",function(){return d.$el.toggleClass("loggedin",!1)}),a.auth.user(function(a){return a!=null&&d.$el.toggleClass("loggedin"),d.$el.append([c("#signin-group",c("a#signin-toggle",{href:"#"},"Sign In"),c("#input-group",c(".user","User ",c("input#auth-user",{type:"text"})),c(".password","Pass ",c("input#auth-pass",{type:"password"})),c("span#loginFailed","Login Failed"),c("button#signin-button","Sign in"))),c(b,{user:a})])})},on:{"click #signin-button":c=function(){var b,c,d=this;c=this.$("#auth-user").val(),b=this.$("#auth-pass").val(),this.$("#auth-user").toggleClass("invalid",c.length===0),this.$("#auth-pass").toggleClass("invalid",b.length===0),this.$("#signin-button").attr("disabled","true"),this.$el.toggleClass("loading",!0),this.$("#loginFailed").toggle(!1);if(c.length+b.length>0)return a.auth.login(c,b,function(a){var b;return d.$("#signin-button").removeAttr("disabled"),d.$el.toggleClass("loading",!1),a!=null&&(d.$el.toggleClass("selected",!1),d.$el.toggleClass("loggedin",!0)),b=!a,d.$("#loginFailed").toggle(b),d.$("#auth-user").toggleClass("invalid",b),d.$("#auth-pass").toggleClass("invalid",b)})},"keyup #auth-pass, #auth-user":function(a){var b;b=a.which;if(b===13)return c.call(this)},"click #signin-toggle":function(){this.$el.toggleClass("selected");if(this.$el.hasClass("selected"))return this.$("#auth-user, #auth-pass").val(""),this.$("#auth-user").focus()}}}}),define("signin/SignedIn",["Services","cell!shared/InitialsList"],function(a,b){var c;return c=function(){var c;c=a.auth.getUser();if(c!=null)return this.$(".InitialsList").remove(),this.$("#username").html(c.loginName.toUpperCase()).after((new b({initials:c&&[c.initials]||[]})).el)},{tag:"span",init:function(){var b=this;return a.bus.bind("auth.userLoggedIn",function(){return c.call(b)})},render:function(a){return[a("a#username",{href:"#"}),a("#options-group",a("button#signout-button","Sign Out"))]},afterRender:c,on:{"click #signout-button":function(){return a.auth.logout(),this.$el.toggleClass("expanded",!1)},"click #username":function(){return this.$el.toggleClass("expanded")}}}});